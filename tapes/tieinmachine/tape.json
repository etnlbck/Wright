{
  "name":"Tie-in Machine",
  "author":"KesieV",
  "year":2017,
  "genre":"Tie-in",
  "description":"<p>As usual, I decided to start documenting myself about this new topic having a look at the Wikipedia. Surprise surprise: its <a href='https://en.wikipedia.org/wiki/Tie-in'>tie-in definition</a> is so nicely complete and inspirational that I'll just browse the contents and comment them all along.</p><p><i>(Insert here this <a href='https://www.youtube.com/watch?v=HbKPUqGgPzg'>Thug Life jingle</a>)</i></p><p>\"A tie-in work is a work of fiction or other product based on a media property such as a film, video game, television series, board game, web site, role-playing game or literary property. Tie-ins are authorized by the owners of the original property, and <b>are a form of cross-promotion used primarily to generate additional income from that property and to promote its visibility</b>.\"</p><p>Scrolling a bit down, you can see a South Park bag. It's a <i>tie-in product</i>: a mail bag with Cartman and friends on its side. Aw. Branded stuff.</p><p>I remember that, when I was a kid, I loved the Sega's <a href='https://en.wikipedia.org/wiki/Sonic_the_Hedgehog'>Sonic The Hedgehog</a> so much that I wanted its branded stuff very hard: magazines, stickers, school diaries, copybooks, school bags... anything with the blue mascotte was a treasure to me. And in the 90's that stuff wasn't so hard to find, even in italian supermarkets. The only obstacles between me and that treasures were my parents and their sturdy common sense: a 10-pack bubbles-decorated anonymous copybooks cost way less than three thin copybooks with Sonic on it... and copybooks <i>are still copybooks</i> regardless what's printed on its cover.</p><p>But is this the same for <i>videogames</i>? In videogames graphics, music and gameplay mechanics are mixed and balanced together in order to create a compelling and consistent experience - not unlike what happens in movies. So, how a <i>tie-in videogame</i> can be just a videogame with <i>licensed music and sprites</i>? Your turn, Wikipedia.</p><p>\"Video game movie tie-ins are expensive for a game developer to license, and <b>the game designers have to work within constraints imposed by the film studio</b>, under pressure to finish the game in time for the film's release. The aim for the publishers <b>is to increase hype and revenue as the two industries effectively market one another's releases</b>.\"</p><p>Bingo! The videogame is <i>bound</i> with the \"impositions of the film studio\" by design: a tie-in videogame main purpose is to <i>assist</i> another market. On paper there should be that \"cross-promotion\" we've found in the definition but there is a catch...</p><p>\"<b>Movie license video games have a reputation for being poor quality.</b>\"</p><p>But why <i>tie-in videogames</i> doesn't work well like our my beloved childhood copybooks? Why <i>the only appearance of my movie hero in a videogame</i> doesn't make it better than a videogame <i>without him</i>?</p><p>\"One of the first movie tie-in games, Atari's <a href='https://en.wikipedia.org/wiki/E.T._the_Extra-Terrestrial_(video_game)'>E.T. the Extra-Terrestrial</a> (1982) was deemed so bad, it was cited as one cause of the video game industry crash. <b>Such poor quality is often due to game developers forced to rush the product in order to meet the movie's release date</b>, or due to issues with <b>adapting the original work's plot into an interactive form</b>.\"</p><p><i>Adapting the original work</i>. You don't have to adapt how the copybook <i>works</i> in order to make a <i>Star Wars copybook</i> but it's not the same in videogames. In videogames the context is not only given by the <i>graphics</i> or the <i>music</i> but also by what the player is meant to do in the game. You can't make a <i>colorful platformer about a robot hero who can baraely jump</i> - but it looked like a good idea in C64 tie-in videogame of <a href='https://youtu.be/U9QH-44FDMs?t=13s'>Robocop 2</a> (1990). Ugh.</p><p>Nevertheless tie-in videogames weren't worthless: along the years tie-in videogames started to be confined in the adventure genre and then, after becoming less and less common around the 90s and leaving more time to game designers for improving videogames storytelling techniques, they are coming back with a brand new formula that works.</p><p>One of the first acclaimed and famous tie-in I remember is <a href='https://en.wikipedia.org/wiki/Star_Wars:_X-Wing'>Star Wars: X-Wing</a> (1993), which was a 3D space shooter set in the Star Wars universe. I wasn't into PC gaming - and neither into Star Wars - but many of my friends were so happy to pilot the iconic Star Wars spaceship and fight <i>for hours</i>. Putting hours of <i>spaceship battles</i> in a movie could not be a great choice but videogames instead usually offers a single experience with multiple variations. That's why X-Wing and many other modern tie-ins <i>are just cherry picking key elements or concepts from the original product</i>, offering alternate storyline or characters.</p><p>The Telltale Games <a href='https://en.wikipedia.org/wiki/The_Walking_Dead_(video_game_series)'>The Walking Dead</a> (2012) videogame, inspired by the TV and comic series with the same name, is an excellent example of a good and sane tie-in videogame. It offers a different storyline and different characters compared to the other products but adapts the same environments, philosphy and tension in an interactive way. It worked so well that I've started watching the TV series only after playing the game!</p><p>Plot!</p><p>Aw. The old <i>good</i> tie-ins of the 80s. I've decided to celebrate them <i>adapting</i> three very different stories into the same videogame. I admit that I've took inspiration from some famous TV series but don't worry: I tried to make them the more vague and wrong possible, in order to avoid spoilers and maximize the <i>adaptation effect</i>. The game picks a tie-in randomly at start and at every game over. Enough talk! Just try them!</p><p>In platformer scenes, use LEFT/RIGHT for moving, UP for jumping, DOWN for couching and the A BUTTON for firing. In running scenes just use LEFT/RIGHT for moving. In puzzle scenes, use UP/DOWN/LEFT/RIGHT for moving the cursor and the A BUTTON for selecting a tile.</p>",
  "screenshots":[ "tieinmachine-1.png", "tieinmachine-2.png" ],
  "hardware":{
    "width":256,
    "height":240,
    "filter":"retro"
  },
  "cheats":{
    "abskipscene":"Use A+B button to skip scene",
    "unlimitedEnergy":"Unlimited energy",
    "unlimitedLives":"Unlimited lives"
  },
  "resources":{
    "gameboy":"gameboy.font",
    "boss-killer":"boss/killer.png",
    "boss-monster":"boss/monster.png",
    "boss-wili":"boss/wili.png",
    "cards-jari":"cards/jari.png",
    "cards-max":"cards/max.png",
    "cards-pedro":"cards/pedro.png",
    "character-debbie":"characters/debbie.png",
    "character-detxer":"characters/detxer.png",
    "character-dolly":"characters/dolly.png",
    "character-dolshen":"characters/dolshen.png",
    "character-hatguy":"characters/hatguy.png",
    "character-jackice":"characters/jackice.png",
    "character-monster":"characters/monster.png",
    "character-raphael":"characters/raphael.png",
    "defaultsprites":"../default/spritesnes.png",
    "memory":"others/memory.png",
    "places-border":"places/border.png",
    "places-citynight":"places/citynight.png",
    "places-docks":"places/docks.png",
    "places-home":"places/home.png",
    "places-ice":"places/ice.png",
    "places-movie":"places/movie.png",
    "runs-ice":"runs/ice.png",
    "runs-sea":"runs/sea.png",
    "runs-space":"runs/space.png",
    "title-bigfunnyformula":"title/bigfunnyformula.png",
    "title-detxer":"title/detxer.png",
    "title-heavythrone":"title/heavythrone.png",
    "transport-alan":"transport/alan.png",
    "transport-fox":"transport/fox.png",
    "transport-ship":"transport/ship.png"
  },
  "stencils":{
    "codeAdvanceOnetileRoad":{ "as":{ "_":[ "object", "road" ] }, "sum":16, "to":{ "_":[ "this", "y" ] } },
    "codeClearMessage":{
      "object":{
        "width":256, "height":20,
        "x":0, "y":110,
        "bgcolor":{ "_":[ "variable", "currentScene", "clearBackground" ] }, "color":{ "_":[ "variable", "currentScene", "clearColor" ] },
        "font":"gameboy", "fontSize":8, "lineHeight":20, "textAlign":"center", "html":{ "_":[ "variable", "currentScene", "clearMessage" ] }
      },
      "into":{ "_":"scenehud" }
    },
    "codeFailedMessage":{
      "object":{
        "width":256, "height":20,
        "x":0, "y":110,
        "bgcolor":{ "_":[ "variable", "currentScene", "failedBackground" ] }, "color":{ "_":[ "variable", "currentScene", "failedColor" ] },
        "font":"gameboy", "fontSize":8, "lineHeight":20, "textAlign":"center", "html":{ "_":[ "variable", "currentScene", "failedMessage" ] }
      },
      "into":{ "_":"scenehud" }
    },
    "codeNewRoadRow":[
      { "subtract":1, "to":{ "_":[ "scene", "distance" ] } },
      { "set":{ "roadWidth":{ "_":[ "scene", "distance", "/", 30, "floor", "+", 4 ] } } },
      {
        "when":{ "_":[ "scene", "distance", "%", 3, "not" ] },
        "decide":[
          { "when":{ "_":[ "scene", "roadPosition", "isGreaterThan", 2 ] }, "options":{ "subtract":1, "to":{ "_":[ "scene", "roadPosition" ] } } },
          {
            "when":{ "_":[ "scene", "roadPosition", "+", { "_":[ "scene", "roadWidth" ] }, "isLessThan", 14 ] },
            "options":{ "sum":1, "to":{ "_":[ "scene", "roadPosition" ] } }
          }
        ]
      },
      {
        "when":{ "_":[ "scene", "distance", "isLessThan", { "_":[ "scene", "nextObstacle" ] } ] },
        "execute":[
          { "set":{ "obstaclePosition":{ "_":[ "scene", "roadPosition", "+", { "_":[ "randomNumber", [ 1, { "_":[ "scene", "roadWidth", "-", 1 ] } ] ] } ] } } },
          { "set":{ "nextObstacle":{ "_":[ "scene", "distance", "-", { "_":[ "randomNumber", [ 3, 8 ] ] } ] } } }
        ],
        "elseExecute":{ "set":{ "obstaclePosition":1000 } }
      },
      {
        "when":{ "_":[ "scene", "distance", "isLessThan", { "_":[ "scene", "nextBonus" ] } ] },
        "execute":[
          { "set":{ "bonusPosition":{ "_":[ "scene", "roadPosition", "+", { "_":[ "randomNumber", [ 1, { "_":[ "scene", "roadWidth", "-", 1 ] } ] ] } ] } } },
          { "set":{ "nextBonus":{ "_":[ "scene", "distance", "-", { "_":[ "randomNumber", [ 3, 8 ] ] } ] } } }
        ],
        "elseExecute":{ "set":{ "bonusPosition":1000 } }
      },
      { "set":{ "counter":0 } },
      {
        "times":16,
        "execute":[
          {
            "when":{ "_":[ "this", "counter", "isLessThan", { "_":[ "this", "roadPosition" ] } ] },
            "object":{
              "type":"wall",
              "set":{ "_":[ "stencil", "roadTile" ] },
              "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 0, 0, 1 ] ] },
              "pushX":5
            },
            "elseExecute":{
              "when":{ "_":[ "this", "counter", "isEqualTo", { "_":[ "this", "roadPosition" ] } ] },
              "object":{
                "type":"wall",
                "set":{ "_":[ "stencil", "roadTile" ] },
                "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 2, 3 ] ] },
                "pushX":5
              },
              "elseExecute":{
                "when":{ "_":[ "this", "counter", "isEqualTo", { "_":[ "this", "bonusPosition" ] } ] },
                "object":[
                  { "set":{ "_":[ "stencil", "roadTile" ] }, "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 4, 5 ] ] } },
                  { "set":{ "_":[ "stencil", "roadBonus" ] }, "x":{ "_":[ "that", "counter", "*", 16 ] } }
                ],
                "elseExecute":{
                  "when":{ "_":[ "this", "counter", "isEqualTo", { "_":[ "this", "obstaclePosition" ] } ] },
                  "object":{ "type":"wall", "set":{ "_":[ "stencil", "roadTile" ] }, "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 6, 7 ] ] } },
                  "elseExecute":{
                    "when":{ "_":[ "this", "counter", "isLessThan", { "_":[ "this", "roadPosition", "+", { "_":[ "this", "roadWidth" ] } ] } ] },
                    "object":{ "set":{ "_":[ "stencil", "roadTile" ] }, "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 4, 5 ] ] } },
                    "elseExecute":{
                      "when":{ "_":[ "this", "counter", "isEqualTo", { "_":[ "this", "roadPosition", "+", { "_":[ "this", "roadWidth" ] } ] } ] },
                      "object":{
                        "type":"wall",
                        "set":{ "_":[ "stencil", "roadTile" ] },
                        "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 8, 9 ] ] },
                        "pushX":-5
                      },
                      "elseExecute":{
                        "object":{
                          "type":"wall",
                          "set":{ "_":[ "stencil", "roadTile" ] },
                          "x":{ "_":[ "that", "counter", "*", 16 ] }, "frame":{ "_":[ "randomValue", [ 10, 10, 11 ] ] },
                          "pushX":-5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          { "sum":1, "to":{ "_":[ "this", "counter" ] } }
        ]
      }
    ],
    "spark":{
      "image":"defaultsprites", "tileX":0, "tileY":0, "width":16, "height":16,
      "zIndex":{ "_":[ "that", "zIndex", "+", 1 ] },
      "execute":{ "set":{ "x":{ "_":[ "this", "xCenteredWith", { "_":"that" } ] }, "y":{ "_":[ "this", "yCenteredWith", { "_":"that" } ] } } },
      "animations":{ "spark":{ "frames":4, "speed":0 } },
      "animation":"spark",
      "states":{ "code":[ { "name":"Physics" }, { "name":"Sequence", "data":[ { "wait":4 }, { "remove":1 } ] } ] }
    },
    "removeWithSpark":{ "object":{ "_":[ "stencil", "spark" ] }, "remove":1 },
    "modelPopupLabel":{
      "width":100, "height":20,
      "zIndex":10000, "x":{ "_":[ "this", "xCenteredWith", { "_":"that" } ] }, "y":{ "_":[ "that", "y", "-", 15 ] },
      "color":{ "_":[ "variable", "currentScene", "messageColor" ] },
      "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":{ "_":[ "variable", "currentScene", "messageOutlineColor" ] }, "textAlign":"center",
      "speed":0.5,
      "states":{
        "code":{
          "name":"Sequence",
          "data":[ { "subtract":{ "_":[ "this", "speed" ] }, "to":{ "_":[ "this", "y" ] }, "wait":1, "loop":1, "cycles":15 }, { "remove":1 } ]
        }
      }
    },
    "playerBullet":{
      "set":{ "_":[ "stencil", "bullet" ] },
      "image":{ "_":[ "variable", "currentScene", "player" ] },
      "frame":{ "_":[ "variable", "currentScene", "playerWeapon" ] },
      "execute":{ "when":{ "_":[ "variable", "currentScene", "mirrorWeapon" ] }, "execute":{ "set":{ "flipX":{ "_":[ "that", "flipX" ] } } } },
      "hits":"playerhitable"
    },
    "player":{
      "type":"player",
      "follow":1,
      "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":40, "tileY":0, "width":16, "height":32,
      "zIndex":10,
      "animations":{
        "couched":{ "frame":5 },
        "couchedThrow":{ "frames":[ 6, 5, 7 ], "speed":1 },
        "fall":"jump",
        "hurt":{ "frame":8 },
        "jump":{ "frame":1 },
        "standThrow":{ "frames":[ 3, 2, 4 ], "speed":1 },
        "still":{ "frame":0 },
        "walk":{ "frames":[ 0, 1, 2, 1 ], "loopTo":0 }
      },
      "forceAnimationTime":0,
      "invulnerability":0,
      "states":[
        {
          "like":{ "_":[ "stencil", "defaultPlayerBehaviour" ] },
          "set":{ "hitbox":{ "width":16, "height":32, "x":0, "y":0 } },
          "code":[
            {
              "name":"Player",
              "data":{ "horizontal":{ "control":1, "gotoZero":1 }, "controlsDisabledWhen":{ "_":[ "this", "forceAnimationTime" ] }, "jump":{ "cut":0.5, "forceY":-10 } }
            },
            {
              "name":"Physics",
              "data":{
                "walls":[
                  { "camera":1, "restitution":0 },
                  { "type":"onlytop", "restitution":0, "only":{ "top":1 } },
                  { "type":"wall", "restitution":0 },
                  { "type":"hurt", "restitution":0, "execute":{ "executeAction":"hit" } }
                ],
                "gravityX":0,
                "gravityY":1,
                "limitX":[ -2, 2 ],
                "limitY":[ -10, 9 ]
              }
            },
            { "_":[ "stencil", "platformerAnimation" ] },
            {
              "name":"Execute",
              "data":{
                "when":{ "_":[ "this", "forceAnimationTime" ] },
                "subtract":1,
                "to":{ "_":[ "this", "forceAnimationTime" ] },
                "elseExecute":{
                  "when":{ "_":[ "keyDown", "isDown", "and", { "_":[ "this", "touchDown" ] } ] },
                  "set":{ "state":"couched" },
                  "elseExecute":{
                    "when":{ "_":[ "keyA", "isHit" ] },
                    "execute":[
                      { "set":{ "animation":"standThrow", "forceAnimationTime":8 } },
                      { "object":{ "set":{ "_":[ "stencil", "playerBullet" ] }, "x":{ "_":[ "that", "x" ] }, "y":{ "_":[ "that", "y", "+", 4 ] } } }
                    ]
                  }
                }
              }
            }
          ]
        },
        {
          "name":"couched",
          "like":{ "_":[ "stencil", "defaultPlayerBehaviour" ] },
          "set":{ "hitbox":{ "width":16, "height":16, "x":0, "y":16 }, "visible":1, "animation":"couched" },
          "code":{
            "name":"Execute",
            "data":{
              "when":{ "_":[ "this", "forceAnimationTime" ] },
              "subtract":1,
              "to":{ "_":[ "this", "forceAnimationTime" ] },
              "elseExecute":[
                { "set":{ "animation":"couched" } },
                {
                  "when":{ "_":[ "keyDown", "isUp" ] },
                  "set":{ "state":"default" },
                  "elseExecute":[
                    { "when":{ "_":[ "keyLeft", "isHit" ] }, "set":{ "flipX":1 }, "elseExecute":{ "when":{ "_":[ "keyRight", "isHit" ] }, "set":{ "flipX":0 } } },
                    {
                      "when":{ "_":[ "keyA", "isHit" ] },
                      "execute":[
                        { "set":{ "animation":"couchedThrow", "forceAnimationTime":8 } },
                        { "object":{ "set":{ "_":[ "stencil", "playerBullet" ] }, "x":{ "_":[ "that", "x" ] }, "y":{ "_":[ "that", "y", "+", 13 ] } } }
                      ]
                    }
                  ]
                }
              ]
            }
          }
        },
        {
          "name":"hit",
          "set":{ "hitbox":{ "width":16, "height":32, "x":0, "y":0 }, "visible":1, "forceY":-4, "animation":"hurt", "forceAnimationTime":0 },
          "execute":{ "when":{ "_":[ "this", "flipX" ] }, "set":{ "forceX":5 }, "elseExecute":{ "set":{ "forceX":-5 } } },
          "code":[
            {
              "name":"Physics",
              "data":{
                "walls":[
                  { "camera":1, "restitution":0 },
                  { "type":"onlytop", "restitution":0, "only":{ "top":1 } },
                  { "type":"wall", "restitution":0 },
                  { "type":"hurt", "restitution":0 }
                ],
                "gravityX":0,
                "gravityY":1,
                "limitX":[ -2, 2 ],
                "limitY":[ -10, 9 ]
              }
            },
            { "name":"Execute", "data":{ "when":{ "_":[ "this", "touchDown" ] }, "set":{ "state":"default" } } }
          ]
        },
        {
          "name":"dead",
          "set":{ "follow":0, "removeType":"player", "hitbox":{ "width":16, "height":32, "x":0, "y":0 }, "visible":1, "forceY":-4, "animation":"hurt" },
          "execute":[ { "_":[ "stencil", "codeFailedMessage" ] }, { "when":{ "_":[ "this", "flipX" ] }, "set":{ "forceX":5 }, "elseExecute":{ "set":{ "forceX":-5 } } } ],
          "code":[
            { "name":"Physics", "data":{ "gravityX":0, "gravityY":1, "limitX":[ -2, 2 ], "limitY":[ -10, 9 ] } },
            {
              "name":"Sequence",
              "data":[
                { "when":{ "_":[ "cheat", "unlimitedLives", "not" ] }, "subtract":1, "to":{ "_":[ "variable", "lives" ] } },
                { "wait":75 },
                {
                  "when":{ "_":[ "variable", "lives", "isLessEqualThan", 0 ] },
                  "gotoScene":"gameover",
                  "withTransition":3,
                  "elseExecute":{ "gotoScene":{ "_":[ "variable", "idScene" ] }, "withTransition":3 }
                }
              ]
            }
          ]
        },
        { "name":"ended", "set":{ "animation":"noanimation" } }
      ]
    },
    "enemyBullet":{
      "set":{ "_":[ "stencil", "bullet" ] },
      "image":{ "_":[ "variable", "currentScene", "enemy" ] },
      "execute":{ "set":{ "flipX":{ "_":[ "that", "flipX" ] } } },
      "hits":"player"
    },
    "enemy":{
      "type":[ "target", "enemy", "playerhitable" ],
      "image":{ "_":[ "variable", "currentScene", "enemy" ] }, "tileX":40, "tileY":0, "width":16, "height":32,
      "zIndex":10,
      "animations":{
        "couched":{ "frame":5 },
        "couchedThrow":{ "frames":[ 6, 5, 7 ], "speed":1 },
        "fall":"jump",
        "hurt":{ "frame":8 },
        "jump":{ "frame":1 },
        "standThrow":{ "frames":[ 3, 2, 4 ], "speed":1 },
        "still":{ "frame":0 },
        "walk":{ "frames":[ 0, 1, 2, 1 ], "loopTo":0 }
      },
      "energy":3,
      "forceAnimationTime":0,
      "invulnerability":0,
      "states":[
        {
          "like":{ "_":[ "stencil", "defaultEnemyBehaviour" ] },
          "set":{ "hitbox":{ "width":16, "height":32, "x":0, "y":0 }, "forceX":{ "_":[ "randomValue", [ -3, 3 ] ] } },
          "code":[
            {
              "name":"Physics",
              "data":{
                "walls":[ { "camera":1, "restitutionX":1, "restitutionY":0 }, { "type":"enemywall", "restitutionX":1, "restitutionY":0 } ],
                "gravityX":0,
                "gravityY":1
              }
            },
            { "_":[ "stencil", "platformerAnimation" ] },
            {
              "name":"Sequence",
              "data":[
                { "wait":{ "_":[ "randomNumber", [ 5, 25 ] ] } },
                {
                  "when":{ "_":[ "this", "distanceTo", { "_":[ "objectTyped", "player" ] }, "isLessThan", 100 ] },
                  "execute":[
                    {
                      "when":{ "_":[ "this", "x", "isGreaterThan", { "_":[ "objectTyped", "player", "x" ] } ] },
                      "set":{ "flipX":1 },
                      "elseExecute":{ "set":{ "flipX":0 } }
                    },
                    {
                      "decide":{
                        "options":[
                          {
                            "execute":[
                              { "set":{ "hitbox":{ "width":16, "height":16, "x":0, "y":16 }, "animation":"couchedThrow", "forceAnimationTime":28, "state":"animating" } },
                              { "object":{ "set":{ "_":[ "stencil", "enemyBullet" ] }, "x":{ "_":[ "that", "x" ] }, "y":{ "_":[ "that", "y", "+", 13 ] } } }
                            ]
                          },
                          {
                            "execute":[
                              { "set":{ "animation":"standThrow", "forceAnimationTime":28, "state":"animating" } },
                              { "object":{ "set":{ "_":[ "stencil", "enemyBullet" ] }, "x":{ "_":[ "that", "x" ] }, "y":{ "_":[ "that", "y", "+", 4 ] } } }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                },
                { "loopTo":0 }
              ]
            }
          ]
        },
        {
          "name":"animating",
          "like":{ "_":[ "stencil", "defaultEnemyBehaviour" ] },
          "code":{
            "name":"Execute",
            "data":{
              "when":{ "_":[ "this", "forceAnimationTime" ] },
              "subtract":1,
              "to":{ "_":[ "this", "forceAnimationTime" ] },
              "elseExecute":{ "set":{ "state":"default" } }
            }
          }
        },
        {
          "name":"hit",
          "set":{ "hitbox":{ "width":16, "height":32, "x":0, "y":0 }, "visible":1, "forceY":-4, "animation":"hurt", "forceAnimationTime":0 },
          "execute":{ "when":{ "_":[ "this", "flipX" ] }, "set":{ "forceX":5 }, "elseExecute":{ "set":{ "forceX":-5 } } },
          "code":[
            {
              "name":"Physics",
              "data":{
                "walls":[ { "camera":1, "restitutionX":1, "restitutionY":0 }, { "type":"enemywall", "restitutionX":1, "restitutionY":0 } ],
                "gravityX":0,
                "gravityY":1,
                "limitX":[ -2, 2 ],
                "limitY":[ -10, 9 ]
              }
            },
            { "name":"Execute", "data":{ "when":{ "_":[ "this", "touchDown" ] }, "set":{ "state":"default" } } }
          ]
        },
        {
          "name":"dead",
          "set":{ "removeType":[ "enemy", "playerhitable", "target" ], "visible":1, "forceY":-4, "animation":"hurt" },
          "execute":[
            { "sum":100, "to":{ "_":[ "variable", "score" ] } },
            { "as":{ "_":[ "object", "collectablecounter" ] }, "executeAction":"update" },
            { "when":{ "_":[ "this", "flipX" ] }, "set":{ "forceX":5 }, "elseExecute":{ "set":{ "forceX":-5 } } },
            { "object":{ "set":{ "_":[ "stencil", "modelPopupLabel" ] }, "html":{ "_":[ "variable", "currentScene", "pickMessage" ] } } }
          ],
          "code":[
            { "name":"Physics", "data":{ "gravityX":0, "gravityY":1, "limitX":[ -2, 2 ], "limitY":[ -10, 9 ] } },
            { "name":"Sequence", "data":[ { "wait":50 }, { "remove":1 } ] }
          ]
        }
      ]
    },
    "enemyThrow":{
      "type":[ "playerhitable", "removeatgameend" ],
      "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":72, "tileY":32, "width":16, "height":16,
      "zIndex":20,
      "hitbox":{ "width":8, "height":8, "x":4, "y":4 },
      "animations":{ "idle":{ "frames":2, "speed":1, "loopTo":0 } },
      "animation":"idle",
      "life":40,
      "states":{
        "code":[
          {
            "name":"Physics",
            "data":{
              "walls":[ { "camera":1, "execute":{ "_":[ "stencil", "removeWithSpark" ] } }, { "type":"bulletwall", "execute":{ "_":[ "stencil", "removeWithSpark" ] } } ]
            }
          },
          {
            "name":"Execute",
            "data":{
              "when":{ "_":[ "this", "collidesWith", { "_":[ "objectTyped", "player" ] } ] },
              "execute":[ { "as":{ "_":"that" }, "executeAction":"hit" }, { "_":[ "stencil", "removeWithSpark" ] } ],
              "elseExecute":{
                "when":{ "_":[ "this", "life" ] },
                "execute":[
                  { "subtract":1, "to":{ "_":[ "this", "life" ] } },
                  { "when":{ "_":[ "this", "life", "isLessThan", 5 ] }, "set":{ "visible":{ "_":[ "this", "life", "%", 2 ] } } }
                ],
                "elseExecute":{ "_":[ "stencil", "removeWithSpark" ] }
              }
            }
          }
        ],
        "actions":{ "name":"hit", "execute":[ { "sum":10, "to":{ "_":[ "variable", "score" ] } }, { "_":[ "stencil", "removeWithSpark" ] } ] }
      }
    },
    "bossScene":{
      "object":[
        { "set":{ "_":[ "stencil", "player" ] }, "x":120, "y":192 },
        {
          "image":{ "_":[ "variable", "currentScene", "boss" ] }, "width":32, "height":32,
          "zIndex":5, "x":216, "y":48,
          "animations":{ "idle":{ "frames":2, "speed":10, "loopTo":0 } },
          "animation":"idle"
        },
        {
          "type":[ "enemy", "removeatgameend" ],
          "image":{ "_":[ "variable", "currentScene", "boss" ] }, "tileX":64, "width":32, "height":32,
          "zIndex":10, "x":112, "y":48,
          "animations":{ "dead":{ "frame":2 }, "idle":{ "frames":2, "loopTo":0 } },
          "invulnerability":0,
          "states":[
            {
              "code":{
                "name":"Sequence",
                "data":[
                  { "wait":25 },
                  { "sum":1, "to":{ "_":[ "this", "x" ] }, "wait":1 },
                  { "subtract":1, "to":{ "_":[ "this", "x" ] }, "wait":1, "cycles":10, "loopTo":-1 },
                  { "wait":25 },
                  { "set":{ "state":"attack" } }
                ]
              }
            },
            {
              "name":"attack",
              "set":{ "animation":"idle" },
              "code":[
                {
                  "name":"Execute",
                  "data":{
                    "when":{ "_":[ "this", "invulnerability" ] },
                    "execute":[ { "subtract":1, "to":{ "_":[ "this", "invulnerability" ] } }, { "set":{ "visible":{ "_":[ "this", "invulnerability", "%", 2 ] } } } ],
                    "elseExecute":{ "set":{ "visible":1 } }
                  }
                },
                {
                  "name":"Sequence",
                  "data":[ { "set":{ "forceX":{ "_":[ "randomValue", [ -2, -5, 2, 5 ] ] } } }, { "wait":{ "_":[ "randomNumber", [ 25, 75 ] ] }, "loopTo":0 } ]
                },
                {
                  "name":"Sequence",
                  "data":[
                    { "wait":50 },
                    {
                      "object":[
                        { "set":{ "_":[ "stencil", "bossThrow" ] }, "forceX":0, "forceY":3 },
                        { "set":{ "_":[ "stencil", "bossThrow" ] }, "forceX":1, "forceY":2 },
                        { "set":{ "_":[ "stencil", "bossThrow" ] }, "forceX":-1, "forceY":2 }
                      ]
                    },
                    {
                      "when":{ "_":[ "scene", "bossEnergy", "isLessThan", 5 ] },
                      "object":[ { "set":{ "_":[ "stencil", "bossThrow" ] }, "forceX":2, "forceY":1 }, { "set":{ "_":[ "stencil", "bossThrow" ] }, "forceX":-2, "forceY":1 } ]
                    },
                    { "loopTo":0 }
                  ]
                },
                { "name":"Physics", "data":{ "walls":{ "camera":1, "restitutionX":1 } } }
              ],
              "actions":{
                "name":"hit",
                "execute":{
                  "when":{ "_":[ "this", "invulnerability", "not" ] },
                  "execute":[
                    { "subtract":1, "to":{ "_":[ "scene", "bossEnergy" ] } },
                    { "when":{ "_":[ "scene", "bossEnergy", "isGreaterThan", 0 ] }, "set":{ "invulnerability":25 }, "elseExecute":{ "set":{ "state":"dead" } } }
                  ]
                }
              }
            },
            {
              "name":"dead",
              "set":{ "animation":"dead" },
              "execute":{ "as":{ "_":[ "object", "bossthrow" ] }, "execute":{ "_":[ "stencil", "removeWithSpark" ] } },
              "code":[
                { "name":"Execute", "data":[ { "sum":0.5, "to":{ "_":[ "this", "y" ] } }, { "subtract":0.5, "to":{ "_":[ "this", "height" ] } } ] },
                {
                  "name":"Sequence",
                  "data":[
                    {
                      "object":{
                        "set":{ "_":[ "stencil", "spark" ] },
                        "x":{ "_":[ "that", "x", "+", { "_":[ "randomNumber", [ -8, 24 ] ] } ] }, "y":{ "_":[ "that", "y", "+", { "_":[ "randomNumber", [ -8, { "_":[ "that", "height", "-", 8 ] } ] ] } ] }
                      },
                      "wait":3
                    },
                    { "cycles":20, "loopTo":-1 },
                    { "as":{ "_":"scene" }, "set":{ "state":"completed" } }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "cameraY":0, "cameraWidth":256, "cameraHeight":240, "cameraFocusX":0, "cameraFocusY":0, "cameraFocusWidth":256, "cameraFocusHeight":240,
      "bgcolor":{ "_":[ "variable", "currentScene", "bgcolor" ] },
      "execute":{
        "object":[
          { "image":{ "_":[ "variable", "currentScene", "player" ] }, "width":40, "height":40, "x":0, "y":0 },
          { "width":216, "height":40, "x":40, "y":0, "bgcolor":"#000" },
          {
            "width":208, "height":10,
            "zIndex":10, "x":48, "y":0,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "playerName" ] }
          },
          { "width":208, "height":10, "zIndex":10, "x":48, "y":10, "color":"#fcfcfc", "font":"gameboy", "fontSize":8, "lineHeight":10, "html":"SCORE:" },
          {
            "width":208, "height":10,
            "zIndex":10, "x":48, "y":20,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "lifeLabel" ] }
          },
          {
            "width":208, "height":10,
            "zIndex":10, "x":48, "y":30,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "itemsName" ] }
          },
          {
            "type":"hud",
            "hudType":"label", "label":"%number|variable.score|0|10%",
            "width":208, "height":10,
            "zIndex":10, "x":99, "y":10,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10
          },
          {
            "height":8,
            "zIndex":10, "x":99, "y":21,
            "bgcolor":{ "_":[ "variable", "currentScene", "lifeBarColor" ] },
            "lineHeight":10,
            "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "energy", "*", 8 ] } } } } }
          },
          {
            "height":8,
            "zIndex":10, "x":99, "y":31,
            "bgcolor":{ "_":[ "variable", "currentScene", "bossLifeBarColor" ] },
            "lineHeight":10,
            "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "bossEnergy", "*", 8 ] } } } } }
          },
          {
            "type":"hud",
            "hudType":"label", "label":"X %number|variable.lives%",
            "width":40, "height":10,
            "zIndex":10, "x":0, "y":30,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":"#000", "textAlign":"right"
          }
        ],
        "into":{ "_":"scenehud" }
      },
      "bossEnergy":10,
      "energy":10,
      "states":[
        {
          "code":{
            "name":"Execute",
            "data":{ "when":{ "_":[ "cheat", "abskipscene", "and", { "_":[ "keyA", "isDown" ] }, "and", { "_":[ "keyB", "isDown" ] } ] }, "set":{ "state":"completed" } }
          }
        },
        {
          "name":"completed",
          "execute":[
            { "_":[ "stencil", "codeClearMessage" ] },
            { "as":{ "_":[ "object", "removeatgameend" ] }, "execute":{ "_":[ "stencil", "removeWithSpark" ] } },
            { "as":{ "_":[ "object", "player" ] }, "set":{ "state":"ended" } }
          ],
          "code":{
            "name":"Sequence",
            "data":[
              { "wait":25 },
              {
                "when":{ "_":[ "scene", "energy", "isGreaterThan", 0 ] },
                "execute":[ { "subtract":1, "to":{ "_":[ "scene", "energy" ] } }, { "sum":1000, "to":{ "_":[ "variable", "score" ] } } ]
              },
              { "wait":10, "loopTo":-1, "until":{ "_":[ "scene", "energy", "not" ] } },
              { "wait":25 },
              { "gotoScene":"nextscene", "withTransition":3 }
            ]
          }
        }
      ]
    },
    "bossThrow":{
      "type":[ "playerhitable", "removeatgameend", "bossthrow" ],
      "image":{ "_":[ "variable", "currentScene", "boss" ] }, "tileX":0, "tileY":32, "width":16, "height":16,
      "zIndex":20, "x":{ "_":[ "that", "x", "+", 8 ] }, "y":{ "_":[ "that", "y", "+", 24 ] },
      "hitbox":{ "width":8, "height":8, "x":4, "y":4 },
      "animations":{ "goup":{ "frame":2, "frames":2, "speed":1, "loopTo":0 }, "idle":{ "frames":2, "speed":1, "loopTo":0 } },
      "animation":"idle",
      "states":[
        {
          "code":[
            { "name":"Physics", "data":{ "walls":{ "camera":1, "execute":{ "_":[ "stencil", "removeWithSpark" ] } } } },
            {
              "name":"Execute",
              "data":{
                "when":{ "_":[ "this", "collidesWith", { "_":[ "objectTyped", "player" ] } ] },
                "execute":[ { "as":{ "_":"that" }, "executeAction":"hit" }, { "_":[ "stencil", "removeWithSpark" ] } ]
              }
            }
          ],
          "actions":{
            "name":"hit",
            "execute":[ { "sum":10, "to":{ "_":[ "variable", "score" ] } }, { "object":{ "_":[ "stencil", "spark" ] } }, { "set":{ "state":"goup" } } ]
          }
        },
        {
          "name":"goup",
          "set":{ "removeType":"playerhitable", "forceX":0, "forceY":-5, "animation":"goup" },
          "code":[
            { "name":"Physics", "data":{ "walls":{ "camera":1, "execute":{ "_":[ "stencil", "removeWithSpark" ] } } } },
            {
              "name":"Execute",
              "data":{
                "when":{ "_":[ "this", "collidesWith", { "_":[ "objectTyped", "enemy" ] } ] },
                "execute":[ { "as":{ "_":"that" }, "executeAction":"hit" }, { "_":[ "stencil", "removeWithSpark" ] } ]
              }
            }
          ]
        }
      ]
    },
    "bullet":{
      "tileX":40, "tileY":32, "width":16, "height":16,
      "zIndex":20,
      "hitbox":{ "width":8, "height":8, "x":4, "y":4 },
      "execute":{ "when":{ "_":[ "that", "flipX" ] }, "set":{ "forceX":-6 }, "elseExecute":{ "set":{ "forceX":6 } } },
      "life":20,
      "states":{
        "code":[
          {
            "name":"Physics",
            "data":{
              "walls":[ { "camera":1, "execute":{ "_":[ "stencil", "removeWithSpark" ] } }, { "type":"wall", "execute":{ "_":[ "stencil", "removeWithSpark" ] } } ]
            }
          },
          {
            "name":"Execute",
            "data":{
              "when":{ "_":[ "this", "collidesWith", { "_":[ "object", { "_":[ "this", "hits" ] } ] } ] },
              "execute":[ { "as":{ "_":"that" }, "executeAction":"hit" }, { "_":[ "stencil", "removeWithSpark" ] } ],
              "elseExecute":{
                "when":{ "_":[ "this", "life" ] },
                "execute":[
                  { "subtract":1, "to":{ "_":[ "this", "life" ] } },
                  { "when":{ "_":[ "this", "life", "isLessThan", 5 ] }, "set":{ "visible":{ "_":[ "this", "life", "%", 2 ] } } }
                ],
                "elseExecute":{ "_":[ "stencil", "removeWithSpark" ] }
              }
            }
          }
        ]
      }
    },
    "defaultEnemyBehaviour":{
      "code":{
        "name":"Execute",
        "data":[
          {
            "when":{ "_":[ "this", "invulnerability" ] },
            "execute":[ { "subtract":1, "to":{ "_":[ "this", "invulnerability" ] } }, { "set":{ "visible":{ "_":[ "this", "invulnerability", "%", 2 ] } } } ],
            "elseExecute":{ "set":{ "visible":1 } }
          },
          { "when":{ "_":[ "this", "collidesWith", { "_":[ "objectTyped", "player" ] } ] }, "as":{ "_":"that" }, "executeAction":"hit" }
        ]
      },
      "actions":{
        "name":"hit",
        "execute":{
          "when":{ "_":[ "this", "invulnerability", "not" ] },
          "execute":[
            { "object":{ "_":[ "stencil", "spark" ] } },
            { "subtract":1, "to":{ "_":[ "this", "energy" ] } },
            {
              "when":{ "_":[ "this", "energy", "isGreaterThan", 0 ] },
              "execute":{ "set":{ "invulnerability":20, "state":"hit" } },
              "elseExecute":{ "set":{ "state":"dead" } }
            }
          ]
        }
      }
    },
    "defaultPlayerBehaviour":{
      "code":{
        "name":"Execute",
        "data":[
          {
            "when":{ "_":[ "this", "invulnerability" ] },
            "execute":[ { "subtract":1, "to":{ "_":[ "this", "invulnerability" ] } }, { "set":{ "visible":{ "_":[ "this", "invulnerability", "%", 2 ] } } } ],
            "elseExecute":{ "set":{ "visible":1 } }
          },
          {
            "when":{ "_":[ "this", "collidesWith", { "_":[ "object", "collectable" ] } ] },
            "execute":[
              { "object":{ "set":{ "_":[ "stencil", "modelPopupLabel" ] }, "html":{ "_":[ "variable", "currentScene", "pickMessage" ] } } },
              { "as":{ "_":"that" }, "execute":{ "_":[ "stencil", "removeWithSpark" ] } },
              { "as":{ "_":[ "object", "collectablecounter" ] }, "executeAction":"update" }
            ]
          }
        ]
      },
      "actions":{
        "name":"hit",
        "execute":{
          "when":{ "_":[ "this", "invulnerability", "not" ] },
          "execute":[
            { "object":{ "_":[ "stencil", "spark" ] } },
            { "when":{ "_":[ "cheat", "unlimitedEnergy", "not" ] }, "subtract":1, "to":{ "_":[ "scene", "energy" ] } },
            {
              "when":{ "_":[ "scene", "energy", "isGreaterThan", 0 ] },
              "execute":{ "set":{ "invulnerability":20, "state":"hit" } },
              "elseExecute":{ "set":{ "state":"dead" } }
            }
          ]
        }
      }
    },
    "floatyBehaviour":{
      "states":{
        "code":{
          "name":"Sequence",
          "data":[ { "sum":1, "to":{ "_":[ "this", "y" ] }, "wait":10 }, { "subtract":1, "to":{ "_":[ "this", "y" ] }, "wait":10, "loopTo":0 } ]
        }
      }
    },
    "collectable":{
      "type":[ "collectable", "target" ],
      "set":{ "_":[ "stencil", "floatyBehaviour" ] },
      "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":56, "tileY":32, "width":16, "height":16,
      "zIndex":10
    },
    "roadBonus":{
      "type":[ "bonus", "road" ],
      "set":{ "_":[ "stencil", "floatyBehaviour" ] },
      "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":40, "tileY":32, "width":16, "height":16,
      "zIndex":5, "y":24
    },
    "platformerAnimation":{
      "name":"Execute",
      "data":{
        "when":{ "_":[ "this", "freezeAnimation", "not" ] },
        "execute":[
          { "when":{ "_":[ "this", "forceX", "isLessThan", 0 ] }, "set":{ "flipX":1 } },
          { "when":{ "_":[ "this", "forceX", "isGreaterThan", 0 ] }, "set":{ "flipX":0 } },
          {
            "when":{ "_":[ "this", "forceAnimationTime", "not" ] },
            "execute":[
              { "when":{ "_":[ "this", "forceY", "isLessThan", 0 ] }, "set":{ "animation":"jump" } },
              { "when":{ "_":[ "this", "forceY", "isGreaterThan", 0 ] }, "set":{ "animation":"fall" } },
              {
                "when":{ "_":[ "this", "touchDown" ] },
                "execute":{ "when":{ "_":[ "this", "forceX", "isEqualTo", 0 ] }, "set":{ "animation":"still" }, "elseExecute":{ "set":{ "animation":"walk" } } }
              }
            ]
          }
        ]
      }
    },
    "platformerScene":{
      "cameraY":40, "cameraWidth":256, "cameraHeight":200, "cameraFocusX":85, "cameraFocusY":80, "cameraFocusWidth":85, "cameraFocusHeight":70,
      "bgcolor":{ "_":[ "variable", "currentScene", "bgcolor" ] },
      "execute":[
        {
          "object":[
            { "image":{ "_":[ "variable", "currentScene", "player" ] }, "width":40, "height":40, "x":0, "y":0 },
            { "width":216, "height":40, "x":40, "y":0, "bgcolor":"#000" },
            {
              "width":208, "height":10,
              "zIndex":10, "x":48, "y":0,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "playerName" ] }
            },
            { "width":208, "height":10, "zIndex":10, "x":48, "y":10, "color":"#fcfcfc", "font":"gameboy", "fontSize":8, "lineHeight":10, "html":"SCORE:" },
            {
              "width":208, "height":10,
              "zIndex":10, "x":48, "y":20,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "lifeLabel" ] }
            },
            {
              "width":208, "height":10,
              "zIndex":10, "x":48, "y":30,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "itemsName" ] }
            },
            {
              "type":"hud",
              "hudType":"label", "label":"%number|variable.score|0|10%",
              "width":208, "height":10,
              "zIndex":10, "x":99, "y":10,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10
            },
            {
              "height":8,
              "zIndex":10, "x":99, "y":21,
              "bgcolor":{ "_":[ "variable", "currentScene", "lifeBarColor" ] },
              "lineHeight":10,
              "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "energy", "*", 8 ] } } } } }
            },
            {
              "type":"hud",
              "hudType":"label", "label":"X %number|variable.lives%",
              "width":40, "height":10,
              "zIndex":10, "x":0, "y":30,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":"#000", "textAlign":"right"
            }
          ],
          "into":{ "_":"scenehud" }
        },
        { "set":{ "counter":0 } },
        {
          "times":10,
          "execute":[
            {
              "object":{
                "type":"collectablecounter",
                "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":0, "tileY":40, "width":8, "height":8,
                "zIndex":10, "x":{ "_":[ 99, "+", { "_":[ "that", "counter", "*", 10 ] } ] }, "y":31, "frame":{ "_":[ "variable", "currentScene", "targetIcon" ] },
                "position":{ "_":[ "that", "counter" ] },
                "states":{
                  "actions":{ "name":"update", "execute":{ "set":{ "visible":{ "_":[ "this", "position", "isLessThan", { "_":[ "object", "target", "count" ] } ] } } } }
                }
              },
              "into":{ "_":"scenehud" }
            },
            { "sum":1, "to":{ "_":[ "this", "counter" ] } }
          ]
        }
      ],
      "energy":10,
      "tick":0,
      "states":[
        {
          "code":[
            {
              "name":"Sequence",
              "data":[
                { "wait":1 },
                { "execute":{ "as":{ "_":[ "object", "collectablecounter" ] }, "executeAction":"update" } },
                { "wait":12 },
                { "set":{ "tick":{ "_":[ "this", "tick", "+", 1, "%", 8 ] } } },
                { "as":{ "_":[ "object", "ticklistener" ] }, "executeAction":"tick" },
                { "loopTo":-3 }
              ]
            },
            {
              "name":"Execute",
              "data":[
                { "when":{ "_":[ "object", "target", "count", "isEqualTo", 0 ] }, "set":{ "state":"completed" } },
                { "when":{ "_":[ "cheat", "abskipscene", "and", { "_":[ "keyA", "isDown" ] }, "and", { "_":[ "keyB", "isDown" ] } ] }, "set":{ "state":"completed" } }
              ]
            }
          ]
        },
        {
          "name":"completed",
          "execute":[
            { "_":[ "stencil", "codeClearMessage" ] },
            { "as":{ "_":[ "object", "removeatgameend" ] }, "execute":{ "_":[ "stencil", "removeWithSpark" ] } },
            { "as":{ "_":[ "object", "player" ] }, "set":{ "state":"ended" } }
          ],
          "code":{
            "name":"Sequence",
            "data":[
              { "wait":25 },
              {
                "when":{ "_":[ "scene", "energy", "isGreaterThan", 0 ] },
                "execute":[ { "subtract":1, "to":{ "_":[ "scene", "energy" ] } }, { "sum":1000, "to":{ "_":[ "variable", "score" ] } } ]
              },
              { "wait":10, "loopTo":-1, "until":{ "_":[ "scene", "energy", "not" ] } },
              { "wait":25 },
              { "gotoScene":"nextscene", "withTransition":3 }
            ]
          }
        }
      ]
    },
    "roadPlayer":{
      "type":"player",
      "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":40, "tileY":0, "width":16, "height":32,
      "zIndex":10, "x":112, "y":200,
      "animations":{ "running":{ "frames":3, "speed":2, "loopTo":0 } },
      "animation":"running",
      "invulnerability":0,
      "states":[
        {
          "code":[
            {
              "name":"Execute",
              "data":[
                { "when":{ "_":[ "cheat", "unlimitedEnergy", "not" ] }, "subtract":1, "to":{ "_":[ "scene", "energy" ] } },
                {
                  "when":{ "_":[ "this", "invulnerability" ] },
                  "execute":[
                    {
                      "when":{ "_":[ "this", "invulnerability", "%", 2 ] },
                      "sum":1,
                      "to":{ "_":[ "this", "x" ] },
                      "elseExecute":{ "subtract":1, "to":{ "_":[ "this", "x" ] } }
                    },
                    { "subtract":1, "to":{ "_":[ "this", "invulnerability" ] } },
                    { "when":{ "_":[ "this", "collidesWith", { "_":[ "object", "wall" ] } ] }, "set":{ "forceX":{ "_":[ "that", "pushX" ] } } }
                  ],
                  "elseExecute":{
                    "when":{ "_":[ "this", "collidesWith", { "_":[ "object", "wall" ] } ] },
                    "execute":[
                      { "object":{ "_":[ "stencil", "spark" ] } },
                      { "when":{ "_":[ "cheat", "unlimitedEnergy", "not" ] }, "subtract":10, "to":{ "_":[ "scene", "energy" ] } },
                      { "set":{ "invulnerability":25 } },
                      { "set":{ "forceX":{ "_":[ "that", "pushX" ] } } }
                    ]
                  }
                },
                {
                  "when":{ "_":[ "this", "collidesWith", { "_":[ "object", "bonus" ] } ] },
                  "execute":[
                    { "sum":100, "to":{ "_":[ "variable", "score" ] } },
                    { "sum":70, "to":{ "_":[ "scene", "energy" ] } },
                    { "as":{ "_":"that" }, "execute":{ "_":[ "stencil", "removeWithSpark" ] } },
                    { "object":{ "set":{ "_":[ "stencil", "modelPopupLabel" ] }, "html":{ "_":[ "variable", "currentScene", "pickMessage" ] } } }
                  ]
                },
                { "when":{ "_":[ "scene", "energy", "isGreaterThan", 200 ] }, "as":{ "_":"scene" }, "set":{ "energy":200 } },
                { "when":{ "_":[ "scene", "energy", "isLessEqualThan", 0 ] }, "set":{ "state":"dead" } },
                { "multiply":0.9, "to":{ "_":[ "this", "forceX" ] } },
                {
                  "when":{ "_":[ "keyLeft", "isDown" ] },
                  "subtract":0.2,
                  "to":{ "_":[ "this", "forceX" ] },
                  "elseExecute":{ "when":{ "_":[ "keyRight", "isDown" ] }, "sum":0.2, "to":{ "_":[ "this", "forceX" ] } }
                }
              ]
            },
            { "name":"Physics", "data":{ "limitX":[ -3, 3 ] } }
          ]
        },
        {
          "name":"dead",
          "set":{ "forceX":0, "forceY":-3 },
          "execute":[ { "_":[ "stencil", "codeFailedMessage" ] }, { "as":{ "_":"scene" }, "set":{ "state":"stop" } } ],
          "code":[
            {
              "name":"Sequence",
              "data":[
                { "when":{ "_":[ "cheat", "unlimitedLives", "not" ] }, "subtract":1, "to":{ "_":[ "variable", "lives" ] } },
                {
                  "object":{
                    "set":{ "_":[ "stencil", "spark" ] },
                    "x":{ "_":[ "that", "x", "+", { "_":[ "randomNumber", [ -8, 8 ] ] } ] }, "y":{ "_":[ "that", "y", "+", { "_":[ "randomNumber", [ -8, 24 ] ] } ] }
                  },
                  "wait":5
                },
                { "cycles":10, "loopTo":-1 },
                { "wait":25 },
                {
                  "when":{ "_":[ "variable", "lives", "isLessEqualThan", 0 ] },
                  "gotoScene":"gameover",
                  "withTransition":3,
                  "elseExecute":{ "gotoScene":{ "_":[ "variable", "idScene" ] }, "withTransition":3 }
                }
              ]
            },
            { "name":"Physics", "data":{ "gravityY":0.3 } }
          ]
        },
        { "name":"ended", "set":{ "animation":"noanimation" } }
      ]
    },
    "roadTile":{ "type":"road", "image":{ "_":[ "variable", "currentScene", "runSkin" ] }, "width":16, "height":16, "y":24, "pushX":0 },
    "thrower":{
      "type":[ "wall", "ticklistener", "enemywall" ],
      "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":64, "tileY":32, "width":16, "height":16,
      "zIndex":5,
      "sequence":[ 0, 1 ],
      "states":{
        "actions":{
          "name":"tick",
          "execute":{
            "when":{
              "_":[
                "this",
                "distanceTo",
                { "_":[ "objectTyped", "player" ] },
                "isLessThan",
                384,
                "and",
                { "_":[ "this", "sequence", { "_":[ "scene", "tick", "%", { "_":[ "this", "sequence", "count" ] } ] } ] }
              ]
            },
            "object":{
              "set":{ "_":[ "stencil", "enemyThrow" ] },
              "at":{ "_":"that" },
              "flipX":{ "_":[ "that", "throwX", "isLessThan", 0 ] },
              "forceX":{ "_":[ "that", "throwX" ] }, "forceY":{ "_":[ "that", "throwY" ] }
            }
          }
        }
      }
    },
    "tieins":[
      {
        "scenes":[
          {
            "bgcolor":"#f8d878",
            "gotoScene":"scene1",
            "clearBackground":"#fcfcfc",
            "clearColor":"#f83800",
            "clearMessage":"BAZINGA!",
            "failedBackground":"#000",
            "failedColor":"#f83800",
            "failedMessage":"OH NO!",
            "introBgColor":"#fcfcfc",
            "introDescription":"DOLSHEN LEFT THE HOME WINDOW OPENED AND THE WIND SCATTERED HIS RESEARCH PAPERS AROUND! LOOK FOR THEM!",
            "introDescriptionColor":"#000",
            "introTitle":"THE DOLSHEN RESEARCH",
            "introTitleColor":"#f83800",
            "itemsName":"PAPER:",
            "lifeBarColor":"#00fcfc",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#000",
            "mirrorWeapon":0,
            "pickMessage":"PAPER FOUND!",
            "player":"character-dolshen",
            "playerName":"DOLSHEN PERCOW",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-home"
          },
          {
            "gotoScene":"scene2",
            "clearBackground":"#fcfcfc",
            "clearColor":"#f83800",
            "clearMessage":"TO INFINITY... AND BEYOND!",
            "distanceBarColor":"#00fcfc",
            "failedBackground":"#000",
            "failedColor":"#f83800",
            "failedMessage":"OH NO!",
            "introBgColor":"#fcfcfc",
            "introDescription":"ALAN IS AN AEROESPACE ENGINEER AND IS GOING TO SPACE FOR HIS FIRST TIME! DRIVE THE ROCKET TO THE SPACE!",
            "introDescriptionColor":"#000",
            "introTitle":"THE ALAN TAKEOFF",
            "introTitleColor":"#f83800",
            "lifeBarColor":"#e40058",
            "lifeLabel":"FUEL:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "pickMessage":"FUEL GET",
            "player":"transport-alan",
            "playerName":"ALAN WOZOWIL",
            "runSkin":"runs-space"
          },
          {
            "bgcolor":"#fcfcfc",
            "gotoScene":"scene3",
            "clearBackground":"#fcfcfc",
            "clearColor":"#f83800",
            "clearMessage":"YOU ARE SAFE NOW!",
            "enemy":"character-hatguy",
            "failedBackground":"#000",
            "failedColor":"#f83800",
            "failedMessage":"OH NO!",
            "introBgColor":"#fcfcfc",
            "introDescription":"DOLLY IS GOING TO BE AN ACTRESS FOR... A VERY BAD MOVIE! ESCAPE FROM THE STAFF!",
            "introDescriptionColor":"#000",
            "introTitle":"THE DOLLY AUDITION",
            "introTitleColor":"#f83800",
            "itemsName":"STAFF:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "mirrorWeapon":1,
            "pickMessage":"ARGH!",
            "player":"character-dolly",
            "playerName":"DOLLY",
            "playerWeapon":0,
            "targetIcon":1,
            "tileSet":"places-movie"
          },
          {
            "bgcolor":"#004058",
            "gotoScene":"scene4",
            "clearBackground":"#fcfcfc",
            "clearColor":"#f83800",
            "clearMessage":"CINNY, YOU BAD DOG!",
            "failedBackground":"#000",
            "failedColor":"#f83800",
            "failedMessage":"OH NO!",
            "introBgColor":"#fcfcfc",
            "introDescription":"JARI BOUGHT SOME T-SHIRTS FOR THE NEXT COMICON BUT HIS DOG MESSED THEM OUT! TIDY THEM UP!",
            "introDescriptionColor":"#000",
            "introTitle":"THE JARI SORTING",
            "introTitleColor":"#f83800",
            "lifeBarColor":"#f83800",
            "lifeLabel":"TIME:",
            "matchKo":"MISS",
            "matchOk":"GOOD!",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "player":"cards-jari",
            "playerName":"JARI KOOTAH"
          },
          {
            "bgcolor":"#00e8d8",
            "gotoScene":"scene5",
            "boss":"boss-wili",
            "bossLifeBarColor":"#881400",
            "clearBackground":"#fcfcfc",
            "clearColor":"#f83800",
            "clearMessage":"A WINNER IS YOU!",
            "failedBackground":"#000",
            "failedColor":"#f83800",
            "failedMessage":"OH NO!",
            "introBgColor":"#fcfcfc",
            "introDescription":"WILI IS A FAMOUS ACTOR AND KIDNAPPED DEBBIE, THE RAPHAEL GIRLFRIEND! SAVE HER!",
            "introDescriptionColor":"#000",
            "introTitle":"THE RAPHAEL REVENGE",
            "introTitleColor":"#f83800",
            "itemsName":"ENEMY:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "mirrorWeapon":1,
            "pickMessage":"ELIMINATED",
            "player":"character-raphael",
            "playerName":"RAPHAEL HOFF",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-movie"
          },
          {
            "creditsColor":"#000",
            "ending":"A RESEARCH TO BE COLLECTED, A SPACE TO BE EXPLORED, A BAD MOVIE TO DO, A COMICON TO BE ORGANIZED AND A VILLAIN TO BEAT IN THE SAME DAY!<br><br>WHAT A BIG DAY!<br><br>OUR TIRED FRIENDS FINALLY ARE IN THE DOLSHEN AND RAPHAEL LIVING ROOM, EATING THE USUAL CHINESE TAKE-OUT FOR DINNER... UNTIL THE NEXT ADVENTURE!",
            "endingColor":"#f83800",
            "introBgColor":"#fcfcfc"
          }
        ],
        "title":"The Big Funny Formula",
        "titleCreditsColor":"#000",
        "titleCreditsOutline":"#fcfcfc",
        "titleImage":"title-bigfunnyformula"
      },
      {
        "scenes":[
          {
            "bgcolor":"#00fcfc",
            "gotoScene":"scene1",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"ALL DAGGERS FOUND!",
            "failedBackground":"#4428bc",
            "failedColor":"#fcfcfc",
            "failedMessage":"LIFE LOST",
            "introBgColor":"#4428bc",
            "introDescription":"JACK ICE IS THE KING ILLEGITIMATE SON AND NOW A DARK DEFENDER! HE DISCOVERED THAT MONSTERS FROM THE NORTH ARE GOING TO ATTACK THE KINGDOM AND ONLY A SPECIAL DAGGER CAN KILL THEM!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"JACK ICE, THE HERO",
            "introTitleColor":"#3cbcfc",
            "itemsName":"ITEMS:",
            "lifeBarColor":"#00fcfc",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "mirrorWeapon":1,
            "pickMessage":"DAGGER FOUND",
            "player":"character-jackice",
            "playerName":"FIND THE DAGGERS",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-ice"
          },
          {
            "gotoScene":"scene2",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"YOU HAVE FOUND JACK!",
            "distanceBarColor":"#00fcfc",
            "failedBackground":"#4428bc",
            "failedColor":"#fcfcfc",
            "failedMessage":"LIFE LOST",
            "introBgColor":"#4428bc",
            "introDescription":"MEATFOX IS THE TRUSTY FOX OF JACK. IT SENSES THAT ITS FRIEND IS IN DANGER... IT HAVE TO RUN AND FIND HIM!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"MEATFOX, THE TRUSTY",
            "introTitleColor":"#3cbcfc",
            "lifeBarColor":"#e40058",
            "lifeLabel":"ENGY:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "pickMessage":"FOOD GET",
            "player":"transport-fox",
            "playerName":"FIND JACK ICE",
            "runSkin":"runs-ice"
          },
          {
            "bgcolor":"#00e8d8",
            "gotoScene":"scene3",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"THE BORDER IS SAFE NOW!",
            "enemy":"character-monster",
            "failedBackground":"#4428bc",
            "failedColor":"#fcfcfc",
            "failedMessage":"LIFE LOST",
            "introBgColor":"#4428bc",
            "introDescription":"THE MONSTERS MANAGED TO INVADE THE BORDERS! JACK ICE IS A DEFENDER AND HAVE TO DEFEND IT AND THE KINGDOM AT ANY COST!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"THE INVASION",
            "introTitleColor":"#3cbcfc",
            "itemsName":"ENEMY:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "mirrorWeapon":1,
            "pickMessage":"ARGH!",
            "player":"character-jackice",
            "playerName":"CLEAR THE AREA",
            "playerWeapon":4,
            "targetIcon":1,
            "tileSet":"places-border"
          },
          {
            "bgcolor":"#004058",
            "gotoScene":"scene4",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"YOU HAVE FOUND THE KING!",
            "failedBackground":"#4428bc",
            "failedColor":"#fcfcfc",
            "failedMessage":"THE BORDERS HAVE BEEN INVADED",
            "introBgColor":"#4428bc",
            "introDescription":"MAX HITROAD IS A GOOD FRIEND OF JACK ICE AND IS A DEFENDER TOO. HE IS NOT A GOOD WARRIOR BUT HE CAN READ MONSTERS WRITINGS: HE HAVE TO LOCATE THE MONSTER KING POSITION FROM BOOKS BEFORE IT'S TOO LATE!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"MAX HITROAD, THE SCHOLAR",
            "introTitleColor":"#3cbcfc",
            "lifeBarColor":"#f83800",
            "lifeLabel":"TIME:",
            "matchKo":"MISS",
            "matchOk":"GOOD!",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "player":"cards-max",
            "playerName":"READ THE ANCIENT BOOK"
          },
          {
            "bgcolor":"#fcfcfc",
            "gotoScene":"scene5",
            "boss":"boss-monster",
            "bossLifeBarColor":"#881400",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"YOU DEFEATED THE KING!",
            "failedBackground":"#4428bc",
            "failedColor":"#fcfcfc",
            "failedMessage":"LIFE LOST",
            "introBgColor":"#4428bc",
            "introDescription":"MAX HITROAD FOUND THE KING BUT HE HAS BEEN CAPTURED! JACK ICE FOLLOWED MEATFOX AND FOUND HIM! HURRY! DEFEAT THE KING AND SAVE THE KINGDOM AND YOUR FRIEND!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"THE FINAL BATTLE",
            "introTitleColor":"#3cbcfc",
            "itemsName":"ENEMY:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#4428bc",
            "mirrorWeapon":1,
            "pickMessage":"ELIMINATED",
            "player":"character-jackice",
            "playerName":"DEFEAT THE MONSTER KING",
            "playerWeapon":4,
            "targetIcon":0,
            "tileSet":"places-border"
          },
          {
            "creditsColor":"#fcfcfc",
            "ending":"JACK ICE SAVED MAX HITROAD AND THE KINGDOM. PEACE WAS FINALLY RESTORED.<br><br>BUT WHY THE MONSTERS WERE ATTACKING THE BORDERS?<br><br>WHO ARE THEM?<br><br>WILL THEY COME BACK AGAIN IN SEARCH OF VENGEANCE?",
            "endingColor":"#b8f8b8",
            "introBgColor":"#4428bc"
          }
        ],
        "title":"Heavy Throne",
        "titleCreditsColor":"#fcfcfc",
        "titleCreditsOutline":"#000",
        "titleImage":"title-heavythrone"
      },
      {
        "scenes":[
          {
            "bgcolor":"#000",
            "gotoScene":"scene1",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"SCENE CLEARED!",
            "failedBackground":"#f83800",
            "failedColor":"#fcfcfc",
            "failedMessage":"SCENE FAILED",
            "introBgColor":"#000",
            "introDescription":"DETXER IS A COP THAT MURDERS SERIAL KILLERS! HE IS INVESTIGATING ON HIS NEXT PREY IN MIAMI, THE INFAMOUS COLD TRUCK KILLER...",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"SCENE 1: MIAMI NIGHT",
            "introTitleColor":"#f83800",
            "itemsName":"ITEMS:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#f83800",
            "mirrorWeapon":1,
            "pickMessage":"CLUE COLLECTED",
            "player":"character-detxer",
            "playerName":"SCENE 1: Detxer Garmon",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-citynight"
          },
          {
            "gotoScene":"scene2",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"SCENE CLEARED!",
            "distanceBarColor":"#3cbcfc",
            "failedBackground":"#f83800",
            "failedColor":"#fcfcfc",
            "failedMessage":"SCENE FAILED",
            "introBgColor":"#000",
            "introDescription":"DETXER FOUND THAT THE COLD TRUCK KILLER IS WAITING FOR HIM AT THE DOCKS! HE JUMPS ON HIS BOAT, THE PIECE OF HEART, TO REACH HIS PREY...",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"SCENE 2: SMELLING THE PREY",
            "introTitleColor":"#f83800",
            "lifeBarColor":"#f83800",
            "lifeLabel":"FUEL:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#f83800",
            "pickMessage":"FUEL GET",
            "player":"transport-ship",
            "playerName":"SCENE 2: Piece of Heart",
            "runSkin":"runs-sea"
          },
          {
            "bgcolor":"#00e8d8",
            "gotoScene":"scene3",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"SCENE CLEARED!",
            "enemy":"character-hatguy",
            "failedBackground":"#f83800",
            "failedColor":"#fcfcfc",
            "failedMessage":"SCENE FAILED",
            "introBgColor":"#000",
            "introDescription":"DEBBIE, DETXER SISTER AND COLLEAGUE, IS A GOOD COP AND SHE IS INVESTIGATING ON THE SAME COLD TRUCK KILLER. SHE DISCOVERED THE KILLER PLACE AND SHE IS LOOKING FOR HIM...",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"SCENE 3: ON THE TRACKS",
            "introTitleColor":"#f83800",
            "itemsName":"ENEMY:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#f83800",
            "mirrorWeapon":1,
            "pickMessage":"ARRESTED",
            "player":"character-debbie",
            "playerName":"SCENE 3: Debbie Garmon",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-docks"
          },
          {
            "bgcolor":"#004058",
            "gotoScene":"scene4",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"SCENE CLEARED!",
            "failedBackground":"#f83800",
            "failedColor":"#fcfcfc",
            "failedMessage":"SCENE FAILED",
            "introBgColor":"#000",
            "introDescription":"PEDRO SANTIAGO IS IN THE OFFICE ANALYZING THE PROOFS COLLECTED IN ORDER TO HELP DEBBIE ON FINDING THE DANGEROUS COLD TRUCK KILLER...",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"SCENE 4: CONNECTING THE DOTS",
            "introTitleColor":"#f83800",
            "lifeBarColor":"#f83800",
            "lifeLabel":"TIME:",
            "matchKo":"WRONG",
            "matchOk":"DONE!",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#f83800",
            "player":"cards-pedro",
            "playerName":"SCENE 4: Pedro Santiago"
          },
          {
            "bgcolor":"#00e8d8",
            "gotoScene":"scene5",
            "boss":"boss-killer",
            "bossLifeBarColor":"#881400",
            "clearBackground":"#000",
            "clearColor":"#fcfcfc",
            "clearMessage":"SCENE CLEARED!",
            "failedBackground":"#f83800",
            "failedColor":"#fcfcfc",
            "failedMessage":"SCENE FAILED",
            "introBgColor":"#000",
            "introDescription":"THE COLD TRUCK KILLER PLAN IS ACCOMPLISHED! HE CAPTURED DEBBIE AND DETXER IS FURIOUS! HE HAVE TO KILL THE KILLER AND SAVE HIS BELOVED SISTER!",
            "introDescriptionColor":"#fcfcfc",
            "introTitle":"SCENE 5: CAPTURED",
            "introTitleColor":"#f83800",
            "itemsName":"ENEMY:",
            "lifeBarColor":"#f83800",
            "lifeLabel":"LIFE:",
            "messageColor":"#fcfcfc",
            "messageOutlineColor":"#f83800",
            "mirrorWeapon":1,
            "pickMessage":"ELIMINATED",
            "player":"character-detxer",
            "playerName":"SCENE 5: Detxer Garmon",
            "playerWeapon":0,
            "targetIcon":0,
            "tileSet":"places-docks"
          },
          {
            "creditsColor":"#fcfcfc",
            "ending":"DETXER MANAGED TO KILL THE COLD TRUCK KILLER SAVING HER SISTER BUT THEN HE RAN AWAY.<br><br>PEDRO RESCUED DEBBIE AND THE CASE WAS CLOSED.<br><br>BUT WHY THE COLD TRUCK KILLER TARGETED DETXER SISTER?<br><br>WHO THE COLD TRUCK KILLER REALLY WAS?",
            "endingColor":"#f83800",
            "introBgColor":"#000"
          }
        ],
        "title":"Detxer",
        "titleCreditsColor":"#fcfcfc",
        "titleCreditsOutline":"#000",
        "titleImage":"title-detxer"
      }
    ],
    "(":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":80, "tileY":0 },
    ")":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":112, "tileY":0 },
    "-":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":96, "tileY":0 },
    "=":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":96, "tileY":16 },
    "#":{
      "type":[ "wall", "bulletwall", "enemywall" ],
      "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":64, "tileY":0, "width":16, "height":16
    },
    "W":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":64, "tileY":16 },
    "[":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":80, "tileY":16 },
    "]":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":112, "tileY":16 },
    "_":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":32, "tileY":0 },
    "{":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":16, "tileY":0 },
    "}":{ "set":{ "_":[ "stencil", "#" ] }, "tileX":48, "tileY":0 },
    "*":{
      "type":[ "hurt", "enemywall" ],
      "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":80, "tileY":64, "width":16, "height":16,
      "hitbox":{ "width":14, "height":14, "x":1, "y":1 }
    },
    "@":{ "set":{ "_":[ "stencil", "*" ] }, "tileX":112, "tileY":64 },
    ":":{ "set":{ "_":[ "stencil", "^" ] }, "tileX":96, "tileY":64 },
    "^":{ "type":[ "enemywall", "onlytop" ], "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":48, "tileY":64, "width":16, "height":16 },
    "a":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":0, "tileY":0, "width":16, "height":16 },
    "b":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":0, "tileY":16, "width":16, "height":16 },
    "c":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":0, "tileY":32, "width":16, "height":16 },
    "d":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":16, "tileY":16, "width":16, "height":16 },
    "e":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":32, "tileY":16, "width":16, "height":16 },
    "f":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":48, "tileY":16, "width":16, "height":16 },
    "g":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":16, "tileY":32, "width":16, "height":16 },
    "h":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":32, "tileY":32, "width":16, "height":16 },
    "i":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":48, "tileY":32, "width":16, "height":16 },
    "j":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":16, "tileY":48, "width":16, "height":16 },
    "k":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":32, "tileY":48, "width":16, "height":16 },
    "l":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":48, "tileY":48, "width":16, "height":16 },
    "m":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":0, "tileY":48, "width":16, "height":16 },
    "n":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":0, "tileY":64, "width":16, "height":16 },
    "o":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":16, "tileY":64, "width":16, "height":16 },
    "p":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":32, "tileY":64, "width":16, "height":16 },
    "q":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":64, "tileY":48, "width":16, "height":16 },
    "r":{ "type":"enemywall", "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":64, "tileY":64, "width":16, "height":16 },
    "s":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":80, "tileY":48, "width":16, "height":16 },
    "t":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":96, "tileY":48, "width":16, "height":16 },
    "u":{ "image":{ "_":[ "variable", "currentScene", "tileSet" ] }, "tileX":112, "tileY":48, "width":16, "height":16 }
  },
  "scenes":{
    "intro":{
      "execute":[
        { "as":{ "_":"variable" }, "set":{ "currentTieIn":{ "_":[ "randomValue", { "_":[ "stencil", "tieins" ] } ] } } },
        {
          "object":[
            {
              "width":256, "height":10,
              "zIndex":30, "x":0, "y":225,
              "color":{ "_":[ "variable", "currentTieIn", "titleCreditsColor" ] },
              "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":{ "_":[ "variable", "currentTieIn", "titleCreditsOutline" ] }, "textAlign":"center", "html":"TIE-IN MACHINE 2017 WRIGHT MAG."
            },
            { "image":{ "_":[ "variable", "currentTieIn", "titleImage" ] }, "width":256, "height":240, "x":0, "y":0 },
            {
              "image":{ "_":[ "variable", "currentTieIn", "titleImage" ] }, "tileX":256, "width":256, "height":240,
              "zIndex":10, "x":0, "y":240,
              "states":{
                "code":{
                  "name":"Sequence",
                  "data":[
                    { "subtract":1, "to":{ "_":[ "this", "y" ] }, "wait":1, "loop":1, "cycles":240 },
                    { "set":{ "visible":0 }, "wait":1 },
                    { "set":{ "visible":1 }, "wait":1, "cycles":10, "loopTo":-1 }
                  ]
                }
              }
            },
            {
              "width":256, "height":10,
              "zIndex":30, "x":0, "y":180,
              "color":{ "_":[ "variable", "currentTieIn", "titleCreditsColor" ] },
              "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":{ "_":[ "variable", "currentTieIn", "titleCreditsOutline" ] }, "textAlign":"center", "html":"PRESS START",
              "states":{ "code":{ "name":"Sequence", "data":[ { "set":{ "visible":0 }, "wait":10 }, { "set":{ "visible":1 }, "wait":10, "loopTo":0 } ] } }
            }
          ]
        }
      ],
      "states":{
        "code":{
          "name":"Execute",
          "data":{
            "when":{ "_":[ "keyA", "isHit" ] },
            "execute":[ { "as":{ "_":"variable" }, "set":{ "currentSceneIndex":-1, "lives":3, "score":0 } }, { "gotoScene":"nextscene", "withTransition":3 } ]
          }
        }
      }
    },
    "gameover":{
      "object":{
        "width":256, "height":10,
        "x":0, "y":115,
        "color":"#fcfcfc",
        "font":"gameboy", "fontSize":8, "lineHeight":10, "textAlign":"center", "html":"GAME OVER"
      },
      "states":{ "code":{ "name":"Execute", "data":{ "when":{ "_":[ "keyA", "isHit" ] }, "gotoScene":"intro", "withTransition":3 } } }
    },
    "nextscene":{
      "execute":[
        { "sum":1, "to":{ "_":[ "variable", "currentSceneIndex" ] } },
        { "as":{ "_":"variable" }, "set":{ "currentScene":{ "_":[ "variable", "currentTieIn", "scenes", { "_":[ "variable", "currentSceneIndex" ] } ] } } },
        { "set":{ "bgcolor":{ "_":[ "variable", "currentScene", "introBgColor" ] } } },
        { "when":{ "_":[ "variable", "currentScene", "ending" ] }, "set":{ "state":"ending" } }
      ],
      "states":[
        {
          "code":{
            "name":"Sequence",
            "data":[
              {
                "object":{
                  "width":256, "height":10,
                  "x":0, "y":80,
                  "color":{ "_":[ "variable", "currentScene", "introTitleColor" ] },
                  "font":"gameboy", "fontSize":8, "lineHeight":10, "textAlign":"center", "html":{ "_":[ "variable", "currentScene", "introTitle" ] }
                }
              },
              { "wait":25 },
              {
                "object":{
                  "width":240, "height":100,
                  "x":8, "y":110,
                  "color":{ "_":[ "variable", "currentScene", "introDescriptionColor" ] },
                  "font":"gameboy", "fontSize":8, "lineHeight":10, "textAlign":"center", "html":{ "_":[ "variable", "currentScene", "introDescription" ] }
                }
              },
              { "wait":1, "loop":1, "until":{ "_":[ "keyA", "isHit" ] } },
              { "gotoScene":{ "_":[ "variable", "currentScene", "gotoScene" ] }, "withTransition":3 }
            ]
          }
        },
        {
          "name":"ending",
          "execute":{
            "object":[
              {
                "type":"scroller",
                "width":240, "height":240,
                "x":8, "y":240,
                "color":{ "_":[ "variable", "currentScene", "endingColor" ] },
                "font":"gameboy", "fontSize":8, "lineHeight":10, "textAlign":"center", "html":{ "_":[ "variable", "currentScene", "ending" ] }
              },
              {
                "type":"scroller",
                "width":240, "height":1240,
                "x":8, "y":480,
                "color":{ "_":[ "variable", "currentScene", "creditsColor" ] },
                "font":"gameboy", "fontSize":8, "lineHeight":10, "textAlign":"center", "html":"TIE-IN MACHINE<br>2017<br>A tribute to slightly forced<br>tie-in videogames from 80s and 90s.<br><br><br>Graphics by:<br>KesieV Norimaki<br><br><br>Story by:<br>KesieV Norimaki<br><br><br>Code by:<br>KesieV Norimaki<br><br><br>Big thanks to:<br>Roberto Garrito<br>Giuseppe Marchese<br>Il Marsicano<br>Bianca<br>Stefano \"Il Kusagari\" Fioretto<br>Romolo Camplani<br>All Akihabara age friends<br><br><br><br><br><br><br><br><br><br>\"This game... is like a movie!\"<br><br>me, playing Resident Evil in 1996"
              }
            ]
          },
          "code":{
            "name":"Sequence",
            "data":[
              { "as":{ "_":[ "object", "scroller" ] }, "subtract":1, "to":{ "_":[ "this", "y" ] } },
              { "wait":2, "cycles":900, "loopTo":0 },
              { "gotoScene":"intro", "withTransition":3 }
            ]
          }
        }
      ]
    },
    "scene1":{
      "object":[
        { "set":{ "_":[ "stencil", "player" ] }, "x":16, "y":208 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":256, "y":144 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":464, "y":128 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":992, "y":96 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1088, "y":224, "frame":3, "sequence":[ 0, 0, 0, 1 ], "throwX":5, "throwY":0 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":1248, "y":192 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":976, "y":304, "frame":2, "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1040, "y":304, "frame":2, "sequence":[ 1, 0 ], "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":1008, "y":416 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":1008, "y":336 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":1104, "y":272 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":576, "y":448, "frame":3, "throwX":5, "throwY":0 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":784, "y":320, "frame":0, "sequence":[ 0, 0, 1 ], "throwX":-5, "throwY":0 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":528, "y":448, "frame":0, "sequence":[ 0, 0, 0, 1 ], "throwX":-5, "throwY":0 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":352, "y":432, "frame":3, "throwX":5, "throwY":0 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":432, "y":400 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":528, "y":352, "frame":0, "throwX":-5, "throwY":0 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":400, "y":304, "frame":2, "sequence":[ 0, 0, 0, 1 ], "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":496, "y":320 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":272, "y":448, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":224, "y":448, "frame":1, "sequence":[ 1, 0 ], "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":176, "y":304, "frame":2, "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":128, "y":304, "frame":2, "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":288, "y":320, "frame":0, "sequence":[ 0, 0, 0, 1, 1, 0, 1, 1 ], "throwX":-5, "throwY":0 },
        { "set":{ "_":[ "stencil", "collectable" ] }, "x":256, "y":320 }
      ],
      "set":{ "_":[ "stencil", "platformerScene" ] },
      "tilemap":{
        "tileWidth":16,
        "tileHeight":16,
        "map":[
          "                                                                                ",
          "                                                                                ",
          "           u                                  u                                 ",
          "           u          u     u        u                                          ",
          "      u   u               u u      u              ^^^^^{_}                      ",
          "    u       u           u       u                      def^^                    ",
          "u              u       uu    u       *            u    ghi                      ",
          "  u    u u u    u           u      {___}               ghi^^          {___}     ",
          "u u   u             uu u m    u u  deeef   {___} m     ghi   m        deeef    m",
          "    u       u      u     n         ghhhi^  deeef n   ^^ghi^^ n        ghhhi    n",
          "                         n {___}   ghhhi   ghhhi n   ^^ghi   n        ghhhi    n",
          "tts tt  sttts  ttttt  u  ntdeeeft  ghhhit sghhhitnsss^^ghitttn t  st tghhhi sttn",
          "             #  #        n gqhhi   gqhhi   gqhhi n     ghi   n     #  ghhhi    n",
          "          #  #  #  #     n jrkkl   jrkkl   jrkkl n (-) gqi   n    ##  gqhhi    n",
          "ppppppp#pp#pp#**#pp#pp#ppnp#####   #####   #####pn*(-)*jrlpppnppp###ppjrkkl    n",
          "()(----)(----)(-)(-)(-------)(-)***()(-)***(-)(--)(----------)(-----)()()()    #",
          "aWaWaWaWaWaWaWaWaWaWaWaWaWaWaWaW(-)aaaaa(-)aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa::aaa",
          "cWcWcWcWcWcWcWcWcWcWcWcWcWcWcWcW(-)bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb::bbb",
          "WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWbbbbbbbbobbbbbbbbW:::WWWWWWWWWWWWWbbobbbo::obb",
          "bbbbbbbbbbbbbbbbbbWWobbbbbbbbbbbbWbbbobbbbbbbbbbbobWbbbWbWbbbbbbbbbobbbbbob::bbb",
          "bbobbbbbobbbobbbbbbWbbbobbbbbbobbWbbbbbbbbbbobbbbbWWbbbWWWbbbbbobbbbbobbbbb::bbb",
          "bbbbbbbbbbbbbbbobbWWobbbbbbbbbbbbWbbbbbbbobbbbbbbWWbbbbbWWbobbbbobbbbbbbbbb::bbb",
          "bbobbbbbbbbbbbbbobbbbbbbbbobbbbbbb::WWWWWWWWWWWWWWobbbbobbbbbbbbbbobbobbbbb::bbo",
          ":::::::::::::::bbbWW::WWWWWWWWWbbW::bbbobbbbbbbbbbbbbobbbb:WWWWWWWWWbbbbbbb::bbb",
          "::bbbbbbobobbbbbbbbb::bbobbbbbbbob::bbbbbbbbbbbbbobbbbbbbb:bbbbboobobbbbbbb::bbb",
          "::bbbobbbbbbobobbbbb::bbbbbbbbbbbbbobbobbbbbbbbbbbbbbbobbb:obbbbboobbbbbbbo::bbb",
          "::bbbbbbbbbbbbbbbbbbbbbbbbbbbbobbbWWbbboobbbobbbbWbbbbbboWbbobbbobobbWbbobb::bbb",
          "::bbbbbbbobbbbbbbbbbWWobbbobbbbbboWWbbbbbbbbbbbbbWWbobbbWWbobbbbbbbbbWWbbbb::boo",
          "::ccc@cccccccccccccWWWccccccccccccWWcccccccccccccWWWcccWWWWcc@ccc@ccWWWWcccccccc",
          "[==============================================================================]"
        ]
      }
    },
    "scene2":{
      "object":{ "_":[ "stencil", "roadPlayer" ] },
      "distance":213,
      "cameraY":40, "cameraWidth":256, "cameraHeight":200, "cameraFocusX":85, "cameraFocusY":80, "cameraFocusWidth":85, "cameraFocusHeight":70,
      "execute":{
        "object":[
          { "image":{ "_":[ "variable", "currentScene", "player" ] }, "width":40, "height":40, "x":0, "y":0 },
          { "width":216, "height":40, "x":40, "y":0, "bgcolor":"#000" },
          {
            "width":208, "height":10,
            "zIndex":10, "x":48, "y":0,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "playerName" ] }
          },
          { "width":208, "height":10, "zIndex":10, "x":48, "y":10, "color":"#fcfcfc", "font":"gameboy", "fontSize":8, "lineHeight":10, "html":"SCORE:" },
          {
            "width":208, "height":10,
            "zIndex":10, "x":48, "y":20,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "lifeLabel" ] }
          },
          { "width":208, "height":10, "zIndex":10, "x":48, "y":30, "color":"#fcfcfc", "font":"gameboy", "fontSize":8, "lineHeight":10, "html":"DIST:" },
          {
            "type":"hud",
            "hudType":"label", "label":"%number|variable.score|0|10%",
            "width":208, "height":10,
            "zIndex":10, "x":99, "y":10,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10
          },
          {
            "height":8,
            "zIndex":10, "x":99, "y":21,
            "bgcolor":{ "_":[ "variable", "currentScene", "lifeBarColor" ] },
            "lineHeight":10,
            "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "energy", "*", 0.4 ] } } } } }
          },
          {
            "height":8,
            "zIndex":10, "x":99, "y":31,
            "bgcolor":{ "_":[ "variable", "currentScene", "distanceBarColor" ] },
            "lineHeight":10,
            "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "distance", "*", 0.75 ] } } } } }
          },
          {
            "type":"hud",
            "hudType":"label", "label":"X %number|variable.lives%",
            "width":40, "height":10,
            "zIndex":10, "x":0, "y":30,
            "color":"#fcfcfc",
            "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":"#000", "textAlign":"right"
          }
        ],
        "into":{ "_":"scenehud" }
      },
      "energy":200,
      "nextBonus":200,
      "nextObstacle":200,
      "roadPosition":3,
      "roadWidth":9,
      "states":[
        {
          "code":[
            {
              "name":"Sequence",
              "data":[
                { "_":[ "stencil", "codeNewRoadRow" ] },
                { "execute":{ "_":[ "stencil", "codeAdvanceOnetileRoad" ] } },
                { "cycles":13, "loopTo":-2 },
                { "_":[ "stencil", "codeNewRoadRow" ] },
                {
                  "as":{ "_":[ "object", "road" ] },
                  "execute":[ { "sum":2, "to":{ "_":[ "this", "y" ] } }, { "when":{ "_":[ "this", "y", "isGreaterThan", 240 ] }, "remove":1 } ]
                },
                { "wait":1, "cycles":8, "loopTo":-1 },
                { "loopTo":-3, "until":{ "_":[ "scene", "distance", "isLessEqualThan", 0 ] } },
                { "set":{ "state":"completed" } }
              ]
            },
            {
              "name":"Execute",
              "data":{ "when":{ "_":[ "cheat", "abskipscene", "and", { "_":[ "keyA", "isDown" ] }, "and", { "_":[ "keyB", "isDown" ] } ] }, "set":{ "state":"completed" } }
            }
          ]
        },
        {
          "name":"completed",
          "execute":[ { "_":[ "stencil", "codeClearMessage" ] }, { "as":{ "_":[ "object", "player" ] }, "set":{ "state":"ended" } } ],
          "code":{
            "name":"Sequence",
            "data":[
              { "wait":25 },
              {
                "when":{ "_":[ "scene", "energy", "isGreaterThan", 0 ] },
                "execute":[ { "subtract":20, "to":{ "_":[ "scene", "energy" ] } }, { "sum":1000, "to":{ "_":[ "variable", "score" ] } } ]
              },
              { "wait":10, "loopTo":-1, "until":{ "_":[ "scene", "energy", "isLessEqualThan", 0 ] } },
              { "wait":25 },
              { "gotoScene":"nextscene", "withTransition":3 }
            ]
          }
        }
      ]
    },
    "scene3":{
      "object":[
        { "set":{ "_":[ "stencil", "player" ] }, "x":656, "y":432 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":112, "y":432 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":240, "y":320 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":208, "y":224 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":608, "y":208 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":704, "y":208 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1024, "y":464, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":1232, "y":416 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":944, "y":464, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":864, "y":464, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":960, "y":352 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":1072, "y":272 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1264, "y":160, "frame":0, "throwX":-5, "throwY":0 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":976, "y":112 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":480, "y":16, "frame":2, "throwX":0, "throwY":5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":368, "y":160, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":320, "y":160, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":272, "y":160, "frame":1, "throwX":0, "throwY":-5 },
        { "set":{ "_":[ "stencil", "enemy" ] }, "x":208, "y":128 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1200, "y":112, "frame":3, "throwX":5, "throwY":0 },
        { "set":{ "_":[ "stencil", "thrower" ] }, "x":1264, "y":64, "frame":0, "throwX":-5, "throwY":0 }
      ],
      "set":{ "_":[ "stencil", "platformerScene" ] },
      "tilemap":{
        "tileWidth":16,
        "tileHeight":16,
        "map":[
          "(-----------------------------)                  u  W[=========================]",
          "#aaaaaaaaaaaaaaaaaaaaaaaaaaaaa m u                 mWaaaaaaaaaaaaaaaaaaaaaaaaaaW",
          "#bcdfobbbbbbbbbbbbbbbbbbbbbbbban                   nabbbobbbbbbbbbbobbbbbbbbbboW",
          "#dfjlbbbbbobbbbbbbbbbbbbbbbbbbbn  ddf   u        dfnobobbbbobbbbbbbbbbbbbobbbbbW",
          "#jlbdfbbbbbbbbbbbobbbbbbbbbobbcnppjjlp  p  p  pppjlncbbbbbbbbbbbbbbbbbbbbbbW::: ",
          "#dffjlbbbbbbbbbbbbdfbbbbbbbbbb#^^^^^^^  ^  ^  ^^^^^^WcbbbbbbbbbbbbbbbbbbbbbW:::W",
          "#jlldfcbbbbobbbbbbjlbbbbdfbbb##tsstttsssssssttssttstWWcbbbbbbbbbbbbbbbbbbbbW:::W",
          "#defjldfbbbbbbbbbdefbcbbjlbb###                     WWWcbbobbbbdfbbbbobbbbb :::W",
          "#ghidfdfdfbbbobbbghidfbbdfb####         u           WWWWcccccccjlbbbbbbbbbbW:::W",
          "#jkljljljlcccccccjkljlccjl#####                     [===========]bb:bb:bb:bW:::W",
          "(-)bb(----------- -- -- ------)    u                [===========]@@@@@@@@@@W::: ",
          "#aabbaaaaaaaaaaaaaaaaaaaaaaaaa#                     [========================]:W",
          "#bbbbbbbbbbbbbbbbbbobbbbbbobbb#m                 u mWbbbbbbbbbbbbbbbbbbbbbbbbb:W",
          "#bbbbbbbbbbbbbbbobbbbbbbbbbbbban                   nabbbbbbbbbobbbobbbbobbdefb:W",
          "#bbbbbobbbdfbbbbbbbbbbbbbbbbobbn                   nobbbbbbbbbbbbbbbbbbbbbghib:W",
          "#bbbbbbbbbjlcccccccccccccccccccnpppppppppWpppppppppncbbbbbbbbbbbbbbbbobbbbjklb:W",
          "#bbbbbbdef{________________}::#^^^^^^^^^^^^^^^^^^^^^Wbobbbbbbbbbbbbbbbbbbbdefb:W",
          "#bobbbbgqiaaaaaaaaaaaaaaadfa::#                     Wbbbbbbbbbbbdfbbbbbbdfgqib:W",
          "#bbbbbbjrlbbbbbbbbbbbbbdfdfb::#                     WbbdefbbbobbjlccccccjljrlccW",
          "#bbbbdefdefbbbbbbbobbbbjljlb::#         u        u  Wbbghibbbbb:[=========]bb[]W",
          "#bbbbghigqibdfbbbbbbbbddddff::#  u                  Wbbjklbbbbb:WaaaaaaaaaabbaaW",
          "#bobcjkljrlcjlccccccccjjjjllcc#             u       Wdefdefbbbb:WbbbbbobbbbbbbbW",
          "#bbb:{______________________}:#         m           Wghighibbbb:WbbbbbbbbbobbbbW",
          "#cbbbaaaaaaaaaaaaaaaaaaaaaaaab#  def    n           WjkljklcccccWbbbbcbbbbbbbboW",
          "##cbbbbbbobbbbbbbbbbbbbbbbbbbb#stghidfstnststtstttts[===========]bbb:W:bbbbbbbbW",
          "###cbobbbbbbbbbdfdfbbdfbbbbbob#  jkljl  n           Waaaaaaaaaaaabbb:W:bbbbbbbbW",
          "####cbbbbbbbobbjljlbbjlbbbbbbba  defdef n           bbbbbobbbbbbobbb:W:bbbbbbbbW",
          "#####cbbbbbbbbdffdfbdfddfbbbbbb  ghighi n           bbbbbbbbbbbbbbbb:W:bbbbbbbbW",
          "######ccccccccjlljlcjljjlcccccc  jkljkl n           cccccccccccccccccWcccccccccW",
          "(----------------------------)#---------------------W[ ==== ==== ==============]"
        ]
      }
    },
    "scene4":{
      "execute":[
        {
          "object":[
            { "image":{ "_":[ "variable", "currentScene", "player" ] }, "width":40, "height":40, "x":0, "y":0 },
            { "width":216, "height":40, "x":40, "y":0, "bgcolor":"#000" },
            {
              "width":208, "height":10,
              "zIndex":10, "x":48, "y":0,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "playerName" ] }
            },
            { "width":208, "height":10, "zIndex":10, "x":48, "y":10, "color":"#fcfcfc", "font":"gameboy", "fontSize":8, "lineHeight":10, "html":"SCORE:" },
            {
              "width":208, "height":10,
              "zIndex":10, "x":48, "y":20,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "html":{ "_":[ "variable", "currentScene", "lifeLabel" ] }
            },
            {
              "height":8,
              "zIndex":10, "x":99, "y":21,
              "bgcolor":{ "_":[ "variable", "currentScene", "lifeBarColor" ] },
              "lineHeight":10,
              "states":{ "code":{ "name":"Execute", "data":{ "set":{ "width":{ "_":[ "scene", "energy", "*", 0.09 ] } } } } }
            },
            {
              "type":"hud",
              "hudType":"label", "label":"%number|variable.score|0|10%",
              "width":208, "height":10,
              "zIndex":10, "x":99, "y":10,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10
            },
            {
              "type":"hud",
              "hudType":"label", "label":"X %number|variable.lives%",
              "width":40, "height":10,
              "zIndex":10, "x":0, "y":30,
              "color":"#fcfcfc",
              "font":"gameboy", "fontSize":8, "lineHeight":10, "outline":"#000", "textAlign":"right"
            }
          ],
          "into":{ "_":"scenehud" }
        },
        {
          "object":[
            { "image":"memory", "width":256, "height":200, "x":0, "y":40, "bgcolor":{ "_":[ "variable", "currentScene", "bgcolor" ] } },
            {
              "type":"cursor",
              "width":40, "height":40,
              "zIndex":10, "x":28, "y":60,
              "border":"#f00",
              "states":[
                {
                  "code":[
                    { "name":"Sequence", "data":[ { "set":{ "border":"#b8f818" }, "wait":5 }, { "set":{ "border":"#fcfcfc" }, "wait":5, "loopTo":0 } ] },
                    {
                      "name":"Execute",
                      "data":[
                        {
                          "when":{ "_":[ "keyRight", "isHit" ] },
                          "sum":40,
                          "to":{ "_":[ "this", "x" ] },
                          "elseExecute":{
                            "when":{ "_":[ "keyLeft", "isHit" ] },
                            "subtract":40,
                            "to":{ "_":[ "this", "x" ] },
                            "elseExecute":{
                              "when":{ "_":[ "keyDown", "isHit" ] },
                              "sum":40,
                              "to":{ "_":[ "this", "y" ] },
                              "elseExecute":{
                                "when":{ "_":[ "keyUp", "isHit" ] },
                                "subtract":40,
                                "to":{ "_":[ "this", "y" ] },
                                "elseExecute":{
                                  "when":{ "_":[ "keyA", "isHit", "and", { "_":[ "this", "collidesWith", { "_":[ "object", "card" ] } ] } ] },
                                  "execute":{
                                    "when":{ "_":[ "objectTyped", "card1" ] },
                                    "execute":[
                                      { "as":{ "_":[ "this", "collidesWith", { "_":[ "object", "card" ] } ] }, "set":{ "type":"card2" }, "executeAction":"face" },
                                      {
                                        "when":{ "_":[ "objectTyped", "card1", "cardId", "isEqualTo", { "_":[ "objectTyped", "card2", "cardId" ] } ] },
                                        "execute":[
                                          {
                                            "as":{ "_":[ "object", "flipped" ] },
                                            "execute":{ "object":{ "set":{ "_":[ "stencil", "modelPopupLabel" ] }, "html":{ "_":[ "variable", "currentScene", "matchOk" ] } } }
                                          },
                                          { "times":2, "as":{ "_":[ "object", "flipped" ] }, "set":{ "removeType":[ "card2", "card1", "flipped", "todo" ] } }
                                        ],
                                        "elseExecute":{ "set":{ "state":"wrongmatch" } }
                                      }
                                    ],
                                    "elseExecute":{ "as":{ "_":[ "this", "collidesWith", { "_":[ "object", "card" ] } ] }, "set":{ "type":"card1" }, "executeAction":"face" }
                                  }
                                }
                              }
                            }
                          }
                        },
                        { "when":{ "_":[ "this", "x", "isLessThan", 28 ] }, "set":{ "x":188 } },
                        { "when":{ "_":[ "this", "x", "isGreaterThan", 188 ] }, "set":{ "x":28 } },
                        { "when":{ "_":[ "this", "y", "isLessThan", 60 ] }, "set":{ "y":180 } },
                        { "when":{ "_":[ "this", "y", "isGreaterThan", 180 ] }, "set":{ "y":60 } }
                      ]
                    }
                  ]
                },
                {
                  "name":"wrongmatch",
                  "set":{ "border":"#f83800" },
                  "code":{
                    "name":"Sequence",
                    "data":[
                      {
                        "as":{ "_":[ "object", "flipped" ] },
                        "execute":{ "object":{ "set":{ "_":[ "stencil", "modelPopupLabel" ] }, "html":{ "_":[ "variable", "currentScene", "matchKo" ] } } }
                      },
                      { "wait":25 },
                      { "times":2, "as":{ "_":[ "objectTyped", "flipped" ] }, "executeAction":"back" },
                      { "set":{ "state":"default" } }
                    ]
                  }
                }
              ]
            }
          ]
        },
        { "set":{ "cards":{ "_":[ "new", [ 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10 ] ] }, "counter":0 } },
        { "shuffle":{ "_":[ "this", "cards" ] } },
        {
          "times":20,
          "execute":[
            {
              "object":{
                "type":[ "todo", "card" ],
                "image":{ "_":[ "variable", "currentScene", "player" ] }, "tileX":40, "tileY":0, "width":32, "height":32,
                "zIndex":10, "x":{ "_":[ 32, "+", { "_":[ "that", "counter", "%", 5, "*", 40 ] } ] }, "y":{ "_":[ 64, "+", { "_":[ "that", "counter", "/", 5, "floor", "*", 40 ] } ] },
                "cardId":{ "_":[ "that", "cards", { "_":[ "that", "counter" ] } ] },
                "states":{
                  "actions":[
                    { "name":"face", "execute":{ "set":{ "type":"flipped", "removeType":"card", "frame":{ "_":[ "this", "cardId" ] } } } },
                    { "name":"back", "execute":{ "set":{ "type":"card", "removeType":[ "flipped", "card1", "card2" ], "frame":0 } } }
                  ]
                }
              }
            },
            { "sum":1, "to":{ "_":[ "this", "counter" ] } }
          ]
        }
      ],
      "energy":1550,
      "states":[
        {
          "code":{
            "name":"Execute",
            "data":[
              { "when":{ "_":[ "cheat", "unlimitedEnergy", "not" ] }, "subtract":1, "to":{ "_":[ "this", "energy" ] } },
              { "when":{ "_":[ "this", "energy", "isLessEqualThan", 0 ] }, "set":{ "state":"fail" } },
              { "when":{ "_":[ "objectTyped", "todo", "not" ] }, "set":{ "state":"done" } },
              { "when":{ "_":[ "cheat", "abskipscene", "and", { "_":[ "keyA", "isDown" ] }, "and", { "_":[ "keyB", "isDown" ] } ] }, "set":{ "state":"done" } }
            ]
          }
        },
        {
          "name":"fail",
          "execute":[ { "as":{ "_":[ "objectTyped", "cursor" ] }, "remove":1 }, { "_":[ "stencil", "codeFailedMessage" ] } ],
          "code":{
            "name":"Sequence",
            "data":[
              { "when":{ "_":[ "cheat", "unlimitedLives", "not" ] }, "subtract":1, "to":{ "_":[ "variable", "lives" ] } },
              { "wait":75 },
              {
                "when":{ "_":[ "variable", "lives", "isLessEqualThan", 0 ] },
                "gotoScene":"gameover",
                "withTransition":3,
                "elseExecute":{ "gotoScene":{ "_":[ "variable", "idScene" ] }, "withTransition":3 }
              }
            ]
          }
        },
        {
          "name":"done",
          "execute":[ { "as":{ "_":[ "objectTyped", "cursor" ] }, "remove":1 }, { "_":[ "stencil", "codeClearMessage" ] } ],
          "code":{
            "name":"Sequence",
            "data":[
              { "wait":25 },
              {
                "when":{ "_":[ "scene", "energy", "isGreaterThan", 0 ] },
                "execute":[ { "subtract":75, "to":{ "_":[ "scene", "energy" ] } }, { "sum":1000, "to":{ "_":[ "variable", "score" ] } } ]
              },
              { "wait":10, "loopTo":-1, "until":{ "_":[ "scene", "energy", "isLessEqualThan", 0 ] } },
              { "wait":25 },
              { "gotoScene":"nextscene", "withTransition":3 }
            ]
          }
        }
      ]
    },
    "scene5":{
      "set":{ "_":[ "stencil", "bossScene" ] },
      "tilemap":{
        "tileWidth":16,
        "tileHeight":16,
        "map":[
          "                ",
          "                ",
          "                ",
          "  u      u   u  ",
          "ttsssttttsstttst",
          "[==============]",
          "bbbbbbbbbobbbbbb",
          "bbbbbbbbbbbbbbbb",
          "bbbbobbbbbbbbbbb",
          "bbbbbbbbbbbbbbbo",
          "bobb::bbbb::bbbb",
          "obbbbbbbbbbbbbbb",
          "bb::bbb::bbb::bb",
          "cccccccccccccccc",
          "(--------------)"
        ]
      }
    }
  }
}